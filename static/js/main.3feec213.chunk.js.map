{"version":3,"sources":["store/actionTypes.js","store/reducers/currentUser.js","store/reducers/errors.js","store/reducers/helperFunctions.js","store/reducers/messages.js","store/reducers/userinformation.js","store/reducers/transitions.js","store/reducers/following.js","store/reducers/UI.js","store/reducers/index.js","store/reducers/discover.js","common/ProfileImg.js","common/logo.js","common/Loader.js","common/Button.js","containers/Messages/Dropdown.js","services/api.js","store/actions/errors.js","store/actions/messages.js","store/actions/userProfile.js","store/actions/UI.js","common/FollowButton.js","common/SingleListItem.js","common/ListUsers.js","containers/Messages/Message.js","common/SlideBox.js","containers/Messages/NewMessage.js","containers/Messages/MessageList.js","containers/LeftSideBar/UserMetaItem.js","containers/LeftSideBar/UserMetaGroup.js","containers/LeftSideBar/UserSmall.js","common/error.js","containers/RightSideBar/DiscoverUser.js","containers/RightSideBar/Discover.js","containers/home/Timeline.js","containers/BodyContainer.js","containers/Mobile/Tab.js","containers/Navbar.js","store/actions/animate.js","common/InputField.js","containers/settings/EditProfile.js","hocs/withAuth.js","containers/settings/AuthForm.js","store/actions/auth.js","containers/home/Landing.js","containers/settings/sidebar.js","containers/RouterConfig.js","containers/App.js","store/index.js","registerServiceWorker.js","index.js","images/logo.svg"],"names":["SET_CURRENT_USER","DEFAULT_STATE","isLoggedIn","initialState","popup","message","code","changeStateArrayItem","id","data","state","test","i","toString","following","loading","isLast","likes","messages","context","arguments","length","undefined","action","type","Object","objectSpread","concat","toConsumableArray","likedBy","animatedState","value","findIndex","m","_id","isDeleted","animatedRemoveMessage","filter","newState","isLiked","stateWithLikeMessage","users","newLikes","update","user","userProfile","animate","profileHide","enter","enterReverse","exit","exitReverse","follow","popUp","display","method","title","url","animateOut","newMessage","isMobile","window","innerWidth","sidebarShow","editProfilePage","appReducer","combineReducers","myProfile","auth","keys","profile","bind","errors","func","args","text","dashboard","discover","ui","defineProperty","select","size","page","rootReducer","randomColor","red","Math","floor","random","blue","green","ProfileImg","props","react_default","a","createElement","className","react_preloader_icon_default","ICON_TYPE","TAIL_SPIN","strokeWidth","strokeColor","duration","react_router_dom","to","username","onLoad","e","profileImg","target","style","opacity","alt","require","boxShadow","profileColor","src","Logo","logoColor","getComputedStyle","document","body","getPropertyValue","width","height","viewBox","preserveAspectRatio","ry","rx","cy","cx","fill","stroke","color","strokeMiterlimit","strokeDasharray","strokeOpacity","strokeDashoffset","paintOrder","d","fillOpacity","LikeButton","DropdownIcon","y","x","BackIcon","MiniLoader","LoaderIcon","logo_Logo","Button","onClick","classNames","submit-button","button-loading","children","Loader_MiniLoader","background","DeleteButton","_Component","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","verify","verifyDelete","assertThisInitialized","reset","inherits","createClass","key","setState","_this$state","tabIndex","delete-btn","delete-btn-danger","delete-btn-loading","onBlur","Component","Dropdown","onToggle","setWrapper","setChildNode","handleClickOutisde","show","addEventListener","removeEventListener","node","childNode","contains","onHide","ref","dropdown-button","dropdown-button-active","logo_DropdownIcon","dropdown-menu","dropdown-show","DropdownItem","setAuthToken","token","axios","defaults","headers","common","apiCall","path","attempt","Promise","withRetry","resolve","reject","process","then","res","catch","err","errObject","response","clientMessage","status","errorBreakdown","addError","popupButton","removeError","popupShow","popupHide","updateLikeList","lastMessageCheck","dispatch","lastMessage","getDiscoverUsers","getState","getFollowList","followUser","_ref","_ref2","slicedToArray","userId","location","itemNum","updateProfile","showNewMessage","obj","animateHide","isLoading","isLoaded","editProfilePageChange","showSidebar","sidebarHide","hideSidebar","showLikesList","hide","setTimeout","getLikeList","loadLikes","likesList","clearAllPopUps","setContext","contextSet","popUpHide","connect","current","handleFollow","followType","buttonType","extraClass","margin","fontSize","buttonSelector","common_ProfileImg","profileImgUrl","FollowButton","currentUser","_classNames2","List","goBack","tester","list","map","index","_classNames","common_SingleListItem","assign","logo_BackIcon","likeId","createdAt","ownerCheck","removeMessage","likeMessage","split","ind-message","item-box","ind-message-on-delete","borderRight","message-wrapper","displayName","padding","dist_default","format","Messages_Dropdown","Dropdown_DropdownItem","Button_DeleteButton","like-button","like-button-true","logo_LikeButton","handleLikesShow","src_common_ListUsers","showLikes","backAction","content","container-box","NewMessage","handleChange","handleSubmit","characterCount","letterCheck","_this2","preventDefault","lengthCheck","postNewMessage","error","count","currentCharacterCount","onSubmit","name","onChange","placeholder","autoFocus","Button_Button","new-message-box","show-message-box","common_SlideBox","withRouter","postMessage","loadMoreContent","bottomClick","animateRemove","remove","likeMsg","MessageList","containers_Messages_Message","message-container","message-container-no-auth","containers_Messages_NewMessage","popUpDisplay","showFollow","classDefine","history","toUpperCase","slice","push","UserMetaGroup","messageCount","followerCount","followingCount","UserMetaItem","textAlign","href","_profile$user","description","borderBottom","profile-description","hidden","UserMetaGroup_UserMetaGroup","Popup","bottom-popup","bottom-popup-show","error-dialog","errorBool","info-dialog","infoBool","retry","apply","error_Popup","DiscoverUserIndividual","DiscoverUser_DiscoverUserIndividual","Discover","RightSideBar_DiscoverUser","Timeline","urlData","match","paramsID","params","handleBottom","console","log","updateMessages","getUserProfile","resizeFunction","fetcher","handleResize","_this$props","loadingBool","Timeline_Loading","containers_Messages_MessageList","containers_LeftSideBar_UserSmall","containers_RightSideBar_Discover","Loading","common_Loader","callDetails","_getState2","usernameCurrent","apiUrl","all","loadMessages","loadProfile","_getState4","updateMessageList","body-container","animation-test","home_Timeline","TabNav","pageSelector","tab-item","icon-current","pathname","lib_default","animateProfile","handleHamburger","hamburger","shift-hamburger","scrollTo","top","behavior","back-button","transition","no-opacity","back-icon","profile-user-nav","Input","placeHolderMovement","handleFocus","active","placeholderFloat","requirementTest","isRequired","handleBlur","options","input-placeholder","input-placeholder-active","input-placeholder-default","input-placeholder-error","input-box","input-error","onFocus","input-hr-holder","input-hr-holder-active","input-hr","hr-active","EditProfile","editProfile","redirect","handlePageChange","editPage","email","passwordOne","passwordTwo","common_InputField","userData","next","localStorage","setItem","withAuth","ComponentAuth","Authenticate","isAuthenticated","apiHOC","ComponentRender","ApiCaller","_Component2","AuthForm","authType","signUp","password","repeatPassword","statusText","onAuth","heading","buttonText","autocomplete","setCurrentUser","setAuthorizationToken","LoginDiv","styled","div","_templateObject","ContainerDiv","_templateObject2","LandingPage","handleClick","authThenRedirect","authUser","locationState","_this$props2","settings_AuthForm","objectWithoutProperties","Sidebar","close","handleSidebarHide","setWrapperRef","wrapperRef","sidebarVisibility","logout","sidebar-main","sidebar-show","removeItem","StyledA","RouterConfig_templateObject","LinkToPortfolio","RouterConfig_templateObject2","src_containers_Navbar","settings_sidebar","react_router","exact","component","render","home_Landing","containers_BodyContainer","Tab_TabNav","propstwo","store","createStore","compose","applyMiddleware","thunk","devToolsExtension","f","jwtToken","jwt","decode","App","es","basename","containers_RouterConfig","isLocalhost","Boolean","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","ReactDOM","containers_App","getElementById","URL","origin","fetch","get","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.3feec213.chunk.js","sourcesContent":["\r\n//ERRORS\r\nexport const ADD_ERROR = \"ADD_ERROR\";\r\nexport const REMOVE_ERROR = \"REMOVE_ERROR\";\r\nexport const POPUP_SHOW = \"POPUP_SHOW\";\r\nexport const POPUP_HIDE = \"POPUP_HIDE\";\r\nexport const ADD_POPUP_BUTTON = \"ADD_POPUP_BUTTON\"\r\n\r\n//CURRENT USER\r\nexport const SET_CURRENT_USER = \"SET_CURRENT_USER\";\r\nexport const UPDATE_CURRENT_USER = \"UPDATE_CURRENT_USER\";\r\n\r\n//MESSAGES\r\nexport const FETCHING_MESSAGES = \"FETCHING_MESSAGES\";\r\nexport const LOAD_MESSAGES = \"LOAD_MESSAGES\";\r\nexport const POST_MESSAGE = \"POST_MESSAGE\";\r\nexport const ANIMATE_REMOVE_MESSAGE = \"ANIMATE_REMOVE_MESSAGE\";\r\nexport const REMOVE_MESSAGE = \"REMOVE_MESSAGE\";\r\nexport const LIKE_MESSAGE = \"LIKE_MESSAGE\";\r\nexport const UPDATE_MESSAGES = \"UPDATE_MESSAGES\";\r\nexport const LAST_MESSAGE = \"LAST_MESSAGE\";\r\nexport const LOAD_MSG_LIKES =\"LOAD_MSG_LIKES\";\r\nexport const UPDATE_LIKE_LIST = \"UPDATE_LIKE_LIST\";\r\n\r\n//USER PROFILE\r\nexport const FETCHING_PROFILE = \"FETCHING_PROFILE\";\r\nexport const LOAD_USER_PROFILE = \"LOAD_USER_PROFILE\";\r\nexport const LOAD_USER_FOLLOW = \"LOAD_USER_FOLLOW\";\r\nexport const UPDATE_USER_PROFILE =\"UPDATE_USER_PROFILE\";\r\n\r\n//FOLLOW INFO\r\nexport const UPDATE_FOLLOW_LIST = \"UPDATE_FOLLOW_LIST\";\r\nexport const CLEAR_FOLLOW = \"CLEAR_FOLLOW\";\r\n\r\n//ANIMATIONS\r\nexport const ANIMATE_ENTER = \"ANIMATE_ENTER\";\r\nexport const ANIMATE_ENTER_REVERSE = \"ANIMATE_ENTER_REVERSE\";\r\nexport const ANIMATE_EXIT = \"ANIMATE_EXIT\";\r\nexport const ANIMATE_EXIT_REVERSE = \"ANIMATE_EXIT_REVERSE\";\r\nexport const ANIMATE_REMOVE = \"ANIMATE_REMOVE\";\r\nexport const ANIMATE_PROFILE = \"ANIMATE_PROFILE\";\r\n\r\n//OTHER UI\r\nexport const SHOW_FOLLOW = \"SHOW_FOLLOW\";\r\nexport const CLOSE_FOLLOW = \"CLOSE_FOLLOW\";\r\nexport const SHOW_LIKES = \"SHOW_LIKES\";\r\nexport const CLOSE_LIKES = \"CLOSE_LIKES\";\r\nexport const SHOW_NEW_MESSAGE = \"SHOW_NEW_MESSAGE\";\r\nexport const CLEAR_ALL = \"CLEAR_ALL\";\r\nexport const GET_DISCOVER_USERS = \"GET_DISCOVER_USERS\";\r\nexport const ANIMATE_CLOSE = \"ANIMATE_CLOSE\";\r\nexport const IS_LOADING = \"IS_LOADING\";\r\nexport const IS_LOADED = \"IS_LOADED\";\r\nexport const WINDOW_RESIZE = \"WINDOW_RESIZE\";\r\nexport const SET_CONTEXT=\"SET_CONTEXT\";\r\nexport const SHOW_SIDEBAR = \"SHOW_SIDEBAR\";\r\nexport const HIDE_SIDEBAR = \"HIDE_SIDEBAR\";\r\nexport const EDIT_PROFILE_PAGE = \"EDIT_PROFILE_PAGE\";\r\n","import {SET_CURRENT_USER, UPDATE_CURRENT_USER} from \"../actionTypes\";\r\n\r\nconst DEFAULT_STATE = {\r\n  isLoggedIn: false,\r\n};\r\n\r\nexport default (state = DEFAULT_STATE, action) => {\r\n\r\n  switch (action.type){\r\n    case SET_CURRENT_USER:\r\n      return {\r\n        ...state,\r\n        isLoggedIn: !!Object.keys(action.user).length,\r\n        ...action.user\r\n      };\r\n    case UPDATE_CURRENT_USER:\r\n      return {\r\n        ...state,\r\n        ...action.user\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {ADD_ERROR, REMOVE_ERROR, POPUP_SHOW, POPUP_HIDE, ADD_POPUP_BUTTON} from \"../actionTypes\";\r\n\r\nconst initialState = {\r\n  popup: false,\r\n  message: null,\r\n  code: null\r\n}\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type){\r\n\r\n    case POPUP_SHOW:\r\n      return {...state,\r\n              popup: true\r\n              }\r\n    case POPUP_HIDE:\r\n      return initialState\r\n    case ADD_ERROR:\r\n      return {...state,\r\n              message: action.data.message,\r\n              code: action.data.code,\r\n              method: action.method\r\n            };\r\n    case ADD_POPUP_BUTTON:\r\n      return {...state,\r\n              func: action.func,\r\n              args: action.args,\r\n              text: action.text\r\n      }\r\n    case REMOVE_ERROR:\r\n      return  initialState;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","\r\n//I wasn't exactly sure how to alter the followlist and keep the previous state largely intact\r\n//This therefore takes a loop and goes through the object until it finds the correct value\r\n// id = part of the object we are targeting\r\n//data = the new data returned from api apiCall\r\n//state = current state\r\nexport function changeStateArrayItem(id, data, state){\r\n  let test = state;\r\n    for (var i in test){\r\n      let idToString = id.toString();\r\n      if(i === idToString){\r\n        test[i].following = data;\r\n        break;\r\n      }\r\n    }\r\n    return test\r\n}\r\n\r\n//alter the state to affect the like button aswell as like counter\r\nexport function stateWithLikeMessage(data, state){\r\n  var value = state.findIndex(m => m._id === data._id);\r\n  let test = state;\r\n    for (var i in test){\r\n      let valueToString = value.toString();\r\n      if(i === valueToString){\r\n        test[i].isLiked = data.isLiked;\r\n        test[i].likedBy = data.likedBy;\r\n        break;\r\n      }\r\n    }\r\n    return test\r\n}\r\n\r\n\r\nexport function animatedRemoveMessage(data, state){\r\n  var value = state.findIndex(m => m._id === data.id);\r\n  let test = state;\r\n    for (var i in test){\r\n      let valueToString = value.toString();\r\n      if(i === valueToString){\r\n        test[i].isDeleted = true;\r\n        break;\r\n      }\r\n    }\r\n    return test\r\n}\r\n","import { LOAD_MESSAGES, REMOVE_MESSAGE, LIKE_MESSAGE, ANIMATE_REMOVE_MESSAGE, FETCHING_MESSAGES, UPDATE_MESSAGES, LAST_MESSAGE, POST_MESSAGE, LOAD_MSG_LIKES, UPDATE_LIKE_LIST }  from \"../actionTypes\";\r\nimport {changeStateArrayItem, stateWithLikeMessage, animatedRemoveMessage} from \"./helperFunctions\";\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  data: [],\r\n  isLast: false,\r\n  likes: null\r\n}\r\nconst messages = (context, state = initialState, action) => {\r\n  \r\n  if(context !== action.context) return state\r\n  switch(action.type){\r\n    case FETCHING_MESSAGES:\r\n      return {\r\n        ...state,\r\n        loading: true\r\n      };\r\n    case UPDATE_MESSAGES:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        data: state.data.concat([...action.messages])\r\n      }\r\n    case POST_MESSAGE:\r\n      return {\r\n        ...state,\r\n        data: [{...action.message,\r\n                    likedBy: 0}\r\n        , ...state.data]\r\n      }\r\n    case LOAD_MESSAGES:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        isLast: false,\r\n        data: [...action.messages]\r\n      }// FIX the continuous scroll by allowing it to concat with prevState -- perhaps it's worth making that a separate state?\r\n    case ANIMATE_REMOVE_MESSAGE:\r\n      let animatedState = animatedRemoveMessage(action, state.data)\r\n        return {\r\n          ...state,\r\n          loading: false,\r\n          data: [...animatedState]};\r\n    case REMOVE_MESSAGE:\r\n        return {\r\n          ...state,\r\n          loading: false,\r\n          data: state.data.filter(message => message._id !== action.id)};\r\n    case LIKE_MESSAGE:\r\n        let newState = stateWithLikeMessage(action.message, state.data)\r\n        return {\r\n          ...state,\r\n          loading: false,\r\n          data: [...newState]};\r\n    case LAST_MESSAGE:\r\n        return {\r\n          ...state,\r\n          isLast: true\r\n        }\r\n    case LOAD_MSG_LIKES:\r\n      return {\r\n        ...state,\r\n        likes: action.users\r\n      }\r\n    case  UPDATE_LIKE_LIST:\r\n      let newLikes = changeStateArrayItem(action.id, action.update, state.likes);\r\n      return {\r\n        ...state,\r\n        likes: [...newLikes]\r\n      }\r\n    default:\r\n      return state;\r\n}\r\n};\r\nexport default messages;\r\n","import {LOAD_USER_PROFILE, UPDATE_USER_PROFILE, FETCHING_PROFILE} from \"../actionTypes\";\r\n\r\n//NOTE this is NOT for current active user this is for any profile being viewed (which can include current user)\r\nconst initialState = {\r\n  loading: false,\r\n  user: {}\r\n}\r\nconst userProfile = (context, state = initialState, action) => {\r\n\r\n  if(context !== action.context) return state\r\n  switch(action.type){\r\n    case FETCHING_PROFILE:\r\n      return {...state, loading: true, user: {...state.user}}\r\n    case LOAD_USER_PROFILE:\r\n      return {...state, loading: false, user: {...action.user}};// Load the profile with data from api call\r\n    case UPDATE_USER_PROFILE:\r\n      return {...state, loading: false, user: {...state.user, ...action.update}} //alter elements of the user profile\r\n    default:\r\n      return state;\r\n\r\n}\r\n};\r\n\r\nexport default userProfile;\r\n","import { ANIMATE_ENTER, ANIMATE_ENTER_REVERSE, ANIMATE_EXIT, ANIMATE_EXIT_REVERSE, ANIMATE_REMOVE, ANIMATE_PROFILE  }  from \"../actionTypes\";\r\n\r\nconst animate = (state = {profileHide: false}, action) =>{\r\n  switch(action.type){\r\n  case ANIMATE_ENTER:\r\n    return {enter: true}\r\n  case ANIMATE_ENTER_REVERSE:\r\n    return {enterReverse: true}\r\n  case ANIMATE_EXIT:\r\n    return {exit: true}\r\n  case ANIMATE_EXIT_REVERSE:\r\n    return {exitReverse: true}\r\n  case ANIMATE_REMOVE:\r\n    return {}\r\n  case ANIMATE_PROFILE:\r\n    return {profileHide: !state.profileHide}\r\n  default:\r\n    return state;\r\n  }\r\n}\r\n\r\nexport default animate;\r\n","import {LOAD_USER_FOLLOW, UPDATE_FOLLOW_LIST, CLEAR_FOLLOW} from \"../actionTypes\";\r\nimport {changeStateArrayItem} from \"./helperFunctions\";\r\nconst follow = (state = [], action) => {\r\n  switch(action.type){\r\n    case LOAD_USER_FOLLOW:\r\n      return action.users\r\n      case UPDATE_FOLLOW_LIST:\r\n        let newState = changeStateArrayItem(action.id, action.update, state);\r\n        return [...newState]\r\n      case CLEAR_FOLLOW:\r\n        return []\r\n      default:\r\n        return state;\r\n  }\r\n};\r\n\r\nexport default follow;\r\n","import {SHOW_FOLLOW, CLOSE_FOLLOW, SHOW_LIKES, CLOSE_LIKES, EDIT_PROFILE_PAGE,  SHOW_NEW_MESSAGE, CLEAR_ALL, ANIMATE_CLOSE,SHOW_SIDEBAR, HIDE_SIDEBAR, IS_LOADING, IS_LOADED, WINDOW_RESIZE, SET_CONTEXT} from \"../actionTypes\";\r\n\r\nconst DEFAULT_STATE = {\r\n  popUp: {\r\n      display: false,\r\n      method: null,\r\n      title: null,\r\n      url: null\r\n  },\r\n  follow:{\r\n    display: false,\r\n    animateOut: false\r\n  },\r\n  newMessage:{\r\n    display:false\r\n  },\r\n  likes:{\r\n    display: false,\r\n    title: null,\r\n    url: null\r\n  },\r\n  loading: false,\r\n  isMobile: window.innerWidth <= 500,\r\n  context: null,\r\n  sidebarShow: false,\r\n  editProfilePage: \"info\"\r\n}\r\n\r\nexport default(state = DEFAULT_STATE, action) =>{\r\n  switch(action.type){\r\n    case SHOW_FOLLOW:\r\n      return{\r\n        ...state,\r\n        follow: {\r\n          display: true,\r\n          title: action.title,\r\n          url: action.url\r\n        }\r\n      }\r\n    case CLOSE_FOLLOW:\r\n        return {...state,\r\n          follow: {\r\n            display: false,\r\n            title: null,\r\n            url: null\r\n          }\r\n        }\r\n      case SHOW_LIKES:\r\n        return{\r\n          ...state,\r\n          likes: {\r\n            display: true,\r\n            title: action.title,\r\n            url: action.url\r\n          }\r\n        }\r\n      case CLOSE_LIKES:\r\n      return{\r\n        ...state,\r\n        likes: {\r\n          display: false,\r\n          title: null,\r\n          url: null\r\n        }\r\n      }\r\n    case ANIMATE_CLOSE:\r\n      return {\r\n        ...state,\r\n        [action.select]:\r\n          {\r\n            ...state[action.select],\r\n            animateOut: true\r\n          }\r\n      }\r\n    case SHOW_NEW_MESSAGE:\r\n      return{\r\n        ...state,\r\n      newMessage: {\r\n        display: !state.newMessage.display\r\n      }\r\n    }\r\n    case IS_LOADING:\r\n      return{\r\n        ...state,\r\n        loading: true\r\n      }\r\n    case IS_LOADED:\r\n      return{\r\n        ...state,\r\n        loading: false\r\n      };\r\n    case WINDOW_RESIZE:\r\n      return{\r\n        ...state,\r\n        isMobile: action.size\r\n      }\r\n    case SET_CONTEXT:\r\n      return{\r\n        ...state,\r\n        context: action.context\r\n      }\r\n    case SHOW_SIDEBAR:\r\n      return{\r\n        ...state,\r\n        sidebarShow: true\r\n      }\r\n    case HIDE_SIDEBAR:\r\n      return{\r\n        ...state,\r\n        sidebarShow: false\r\n      }\r\n    case EDIT_PROFILE_PAGE:\r\n      return{\r\n        ...state,\r\n        editProfilePage: action.page\r\n\r\n      }\r\n    case CLEAR_ALL:\r\n      return {...DEFAULT_STATE,\r\n              loading: state.loading,\r\n              isMobile: state.isMobile,\r\n              context: state.context,\r\n              sidebarShow: state.sidebarShow\r\n            }\r\n    default:\r\n        return state;\r\n  }\r\n}\r\n","import {combineReducers} from \"redux\";\r\nimport auth  from \"./currentUser\";\r\nimport errors from \"./errors\";\r\nimport messages from \"./messages\";\r\nimport profile from \"./userinformation\";\r\nimport animate from \"./transitions\";\r\nimport  follow from \"./following\";\r\nimport discover from \"./discover\";\r\nimport ui from \"./UI\";\r\n\r\n// const rootReducer = combineReducers({\r\n//   currentUser,\r\n//   errors,\r\n//   messages,\r\n//   userProfile,\r\n//   follow,\r\n//   animate,\r\n//   discover,\r\n//   ui\r\n// });\r\n\r\nconst rootReducer = (state, action) => {\r\n  if(action.type === \"USER_LOGOUT\"){\r\n    state = undefined\r\n  }\r\n  return appReducer(state, action)\r\n}\r\n\r\nconst appReducer = combineReducers({\r\n  myProfile: combineReducers({\r\n    auth,\r\n    profile: profile.bind(null, \"myProfile\"),\r\n    messages: messages.bind(null, \"myProfile\")\r\n  }),\r\n  errors,\r\n  dashboard: combineReducers({\r\n    profile: profile.bind(null, \"dashboard\"),\r\n    messages: messages.bind(null, \"dashboard\")\r\n  }),\r\n  profile: combineReducers({\r\n    profile: profile.bind(null, \"profile\"),\r\n    messages: messages.bind(null, \"profile\")\r\n  }),\r\n  follow,\r\n  animate,\r\n  discover,\r\n  ui\r\n});\r\n\r\n\r\nexport default rootReducer;\r\n","import {GET_DISCOVER_USERS} from \"../actionTypes\";\r\n\r\nexport default (state ={users: []}, action) => {\r\n  switch (action.type){\r\n    case GET_DISCOVER_USERS:\r\n      return {\r\n          ...state,\r\n          users:[...action.users]\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport \"./images.css\";\r\nimport PreloaderIcon, {ICON_TYPE} from 'react-preloader-icon';\r\nimport {Link} from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\n//A random color if the user has not specified a color, this will later become a default purple within the actual database (user.profileColor)\r\nfunction randomColor(){\r\n  let red = Math.floor(Math.random() * 255);\r\n  let blue = Math.floor(Math.random() * 255);\r\n  let green = Math.floor(Math.random() * 255);\r\n  return `rgb(${red}, ${blue}, ${green})`;\r\n}\r\nconst ProfileImg = (props) => {\r\n  return(\r\n    !props.loading ?\r\n    <div className=\"img-wrapper\">\r\n    <Link className=\"img-link\" to={`/u/${props.username}`} >\r\n        <object onLoad={e => props.profileImg && (e.target.style.opacity = 1)} //If there is an error with the loading of the profile picture, the default logo will display instead\r\n        // onError = {e => e.target.src = require(\"../images/logo.svg\")}\r\n        className=\"profile-picture\"\r\n        alt={`${props.username}'s profile `}\r\n        data={props.profileImg ? props.profileImg : require(\"../images/logo.svg\")}\r\n        type=\"image/jpg\"\r\n        style={{\r\n          boxShadow: `0px 0px 2px 0px ${props.profileColor? props.profileColor : randomColor()}`,\r\n          opacity: 0.3,                                                  //This displays the logo with an opacity of 0.3 if the user does not have a profile picture\r\n        }}\r\n        >\r\n          <img alt=\"\" className=\"profile-picture no-img\" src={require(\"../images/logo.svg\")} />\r\n        </object>\r\n    </Link>\r\n    </div>\r\n    :\r\n    <div className=\"img-wrapper\">\r\n    <button className=\"img-link\">\r\n    <PreloaderIcon\r\n      className=\"profile-picture\"\r\n      type={ICON_TYPE.TAIL_SPIN}\r\n      size={50}\r\n      strokeWidth={4} // min: 1, max: 50\r\n      strokeColor=\"#ae27e8\"\r\n      duration={800}\r\n    />\r\n    </button>\r\n    </div>\r\n\r\n  )\r\n}\r\nProfileImg.propTypes = {\r\n  username: PropTypes.string,\r\n  profileImg: PropTypes.string,\r\n  profileColor: PropTypes.string\r\n}\r\nexport default ProfileImg;\r\n","import React from \"react\";\r\n\r\nexport const Logo = (props) => {\r\n  const logoColor = getComputedStyle(document.body).getPropertyValue(\"--purple\");\r\n  return(\r\n      <svg className=\"logo-svg\"  style={props.style}   width=\"100%\" height=\"100%\" viewBox=\"0 0 901.000000 902.000000\"\r\n           preserveAspectRatio=\"xMidYMid meet\">\r\n      <g\r\n         id=\"layer2\">\r\n        <ellipse\r\n           ry=\"407.14636\"\r\n           rx=\"406.69498\"\r\n           cy=\"451\"\r\n           cx=\"450.5\"\r\n           id=\"path48\"\r\n           style={{fill:\"none\", stroke: props.color  || logoColor, strokeWidth:40, strokeMiterlimit:4, strokeDasharray:\"none\", strokeOpacity:1, strokeDashoffset:0, paintOrder:\"fill stroke\"}} />\r\n      </g>\r\n      <g\r\n         id=\"layer6\">\r\n        <path\r\n           id=\"path4656-4\"\r\n           d=\"m 294.17808,646.93872 c 0,-41.03868 -0.6993,-73.97942 -1.56344,-73.64645 -0.85988,0.33134 -7.97255,9.1418 -15.80591,19.57881 -18.19006,24.23605 -49.46841,56.63201 -70.15796,72.66476 l -16.13995,12.50717 -8.60937,-18.2353 c -4.73515,-10.02942 -8.70032,-18.68596 -8.81146,-19.23675 -0.11116,-0.55078 6.83651,-5.91245 15.43928,-11.91477 18.56815,-12.95543 46.67732,-39.49945 65.17378,-61.54482 11.89912,-14.18222 35.05321,-46.6629 35.05321,-49.17285 0,-0.53514 -21.55176,-0.97297 -47.89279,-0.97297 h -47.89276 v -18.97638 -18.97639 h 50.60368 50.60369 V 447.3855 415.7582 h 20.78366 20.78365 v 31.62731 31.62728 h 47.89276 47.89278 v 18.97639 18.97638 h -47.89278 c -51.15774,0 -52.78673,0.31632 -43.8264,8.51036 2.23651,2.04523 23.6958,18.38053 47.68731,36.30065 23.99152,17.92012 44.15439,33.44516 44.80636,34.50009 0.66599,1.07762 -5.28873,6.71839 -13.5897,12.87316 -12.89626,9.562 -15.14671,10.64103 -17.69724,8.48524 -1.60717,-1.3584 -16.74778,-14.13057 -33.64579,-28.38257 l -30.72366,-25.91274 -0.47082,78.9239 -0.47081,78.9239 h -20.76466 -20.76466 z\"\r\n           style={{fill:props.color || logoColor,fillOpacity:1, stroke: props.color || logoColor, strokeWidth:1.80727434, strokeOpacity:1}} />\r\n        <path\r\n           id=\"path4658-0\"\r\n           d=\"m 552.61831,648.89657 c 0,-43.97324 -0.69562,-77.71279 -1.60222,-77.71279 -0.88123,0 -6.19725,5.61648 -11.81338,12.48108 -22.93912,28.03843 -79.34477,78.51139 -103.63539,92.73511 l -5.30288,3.10518 -12.77392,-15.0017 -12.77391,-15.0017 5.72625,-3.29467 c 25.97131,-14.94295 55.76256,-37.76377 81.40053,-62.35476 22.94087,-22.00404 54.16349,-61.4497 51.08016,-64.53303 -0.58888,-0.58888 -20.60685,-1.47348 -44.48438,-1.96576 l -43.41367,-0.89507 v -18.72284 -18.72284 h 48.7964 48.79641 V 447.3855 415.7582 h 19.88001 19.88003 v 31.62731 31.62728 h 57.83276 57.83279 v 18.97639 18.97638 l -32.98276,0.008 c -40.83653,0.01 -73.64642,1.80621 -73.64642,4.03143 0,3.94196 35.7063,45.58081 56.27493,65.62487 23.07124,22.48289 39.40851,36.16264 58.93881,49.3515 6.2125,4.19533 11.29546,8.05828 11.29546,8.58442 0,0.52608 -6.2689,8.1567 -13.93087,16.95687 l -13.93086,16.00031 -5.49734,-3.80731 c -11.33229,-7.84844 -67.90628,-66.28843 -84.27712,-87.05686 l -17.00574,-21.57379 -0.47045,80.76211 -0.47041,80.76212 h -19.86141 -19.86141 z\"\r\n           style={{fill:props.color || logoColor,fillOpacity:1, stroke: props.color || logoColor, strokeWidth:1.80727434, strokeOpacity:1}} />\r\n        <path\r\n           id=\"path4660-5\"\r\n           d=\"m 427.91638,366.05816 c 0,-61.03951 -0.37851,-71.38734 -2.61125,-71.38734 -1.43618,0 -10.99214,7.84714 -21.23546,17.43809 -49.46353,46.31328 -110.43267,84.34753 -181.28458,113.09037 -20.57671,8.34745 -18.77063,8.86811 -33.37541,-9.62153 -7.13396,-9.03159 -12.70756,-16.64122 -12.38581,-16.91033 0.32175,-0.26907 8.71774,-3.16602 18.65776,-6.43767 63.78903,-20.99537 135.01604,-61.36949 178.01652,-100.90642 l 9.94,-9.13936 -84.49006,-0.082 -84.49009,-0.082 v -18.97641 -18.97637 h 64.76981 c 35.62341,0 83.1999,-0.53637 105.72555,-1.19193 l 40.95575,-1.19192 V 230.5081 c 0,-6.14638 0.5316,-21.06222 1.18137,-33.14629 l 1.18137,-21.97104 h 20.50593 20.50591 v 33.14594 33.14591 l 42.01913,1.18813 c 23.11052,0.65347 71.50029,1.19 107.53283,1.19229 l 65.51369,0.005 v 18.97638 18.9764 h -86.74917 c -47.71205,0 -86.72555,0.60996 -86.69667,1.35546 0.0648,1.6751 22.95195,19.74665 41.36038,32.65798 40.14092,28.15412 93.94745,54.0634 145.64001,70.12953 10.93401,3.39831 21.03481,6.59534 22.4462,7.10452 1.89117,0.68225 0.88853,2.69243 -3.81162,7.64192 -3.5078,3.69389 -9.88364,11.44597 -14.16854,17.22688 -9.21887,12.43741 -6.28968,12.56217 -42.4188,-1.80662 -64.68446,-25.72542 -120.92686,-60.3124 -168.70974,-103.75016 -10.2883,-9.35273 -19.43762,-17.27604 -20.33184,-17.60738 -0.94573,-0.35041 -1.62586,29.3236 -1.62586,70.93554 v 71.5375 h -20.78365 -20.78366 z\"\r\n           style={{fill:props.color || logoColor,fillOpacity:1, stroke: props.color || logoColor, strokeWidth:1.80727434, strokeOpacity:1}} />\r\n      </g>\r\n      </svg>\r\n  )\r\n}\r\nexport const LikeButton = (props)=> {\r\n  return(\r\n    <svg  width=\"100%\" height=\"100%\" viewBox=\"0 0 901.000000 902.000000\"\r\n         preserveAspectRatio=\"xMidYMid meet\">\r\n\r\n      <g\r\n         id=\"layer2\">\r\n        <path\r\n           id=\"path895\"\r\n           d=\"M 447.62543,812.13332 C 553.4104,664.11009 666.07571,588.42218 779.6849,480.07386 1010.578,249.18072 717.24493,-76.515318 447.62543,148.0144 221.24372,-58.489435 -114.76764,249.74024 115.56598,480.07386 225.23312,591.27002 395.21369,674.87447 447.62543,812.13332 Z\"\r\n          />\r\n      </g>\r\n    </svg>\r\n  )\r\n}\r\n\r\nexport const DropdownIcon = () => {\r\nreturn(  <svg\r\n     width=\"100%\"\r\n     height=\"100%\"\r\n     viewBox=\"0 0 901.000000 902.000000\"\r\n     preserveAspectRatio=\"xMidYMid meet\">\r\n\r\n    <g\r\n       id=\"layer2\">\r\n      <rect\r\n         y=\"103\"\r\n         x=\"381.48322\"\r\n         height=\"138.03357\"\r\n         width=\"138.03357\"\r\n         id=\"rect897\"\r\n         />\r\n      <rect\r\n         y=\"381.98322\"\r\n         x=\"381.48322\"\r\n         height=\"138.03357\"\r\n         width=\"138.03357\"\r\n         id=\"rect897-6\"\r\n       />\r\n      <rect\r\n         y=\"660\"\r\n         x=\"381.48322\"\r\n         height=\"138.03357\"\r\n         width=\"138.03357\"\r\n         id=\"rect897-3\"\r\n         />\r\n    </g>\r\n  </svg>\r\n)\r\n}\r\n\r\n\r\nexport const BackIcon = () => {\r\n  return(\r\n    <svg\r\n       width=\"100%\"\r\n       height=\"100%\"\r\n       viewBox=\"0 0 901.000000 902.000000\"\r\n       preserveAspectRatio=\"xMidYMid meet\">\r\n      <g\r\n         id=\"layer1\">\r\n        <path\r\n           id=\"path863\"\r\n           d=\"M 373.27203,780.2468 44.025229,451 373.27203,121.7532\"\r\n           style={{strokeOpacity: 1}} />\r\n        <path\r\n           id=\"path863-2\"\r\n           d=\"M 598.99824,737.31783 312.68042,451 598.99824,164.68217\"\r\n           style={{strokeOpacity: 0.8}}  />\r\n        <path\r\n           id=\"path863-2-8\"\r\n           d=\"M 856.00413,707.59776 599.40638,451 856.00413,194.40224\"\r\n           style={{strokeOpacity: 0.6}}  />\r\n      </g>\r\n    </svg>\r\n  )\r\n}\r\n","import React from \"react\";\r\nimport {Logo} from  \"./logo.js\";\r\nimport \"./Loader.css\";\r\nconst LoaderIcon = props => {\r\n  return(\r\n    <div className=\"loader\">\r\n    <div className=\"loader-after\" ><Logo /></div>\r\n      <div className=\"loader-before\"></div>\r\n    </div>\r\n  )\r\n}\r\nexport const MiniLoader = props => {\r\n  return(\r\n      <div className=\"loader-mini\" style={props.style}> </div>\r\n  )\r\n}\r\nexport default LoaderIcon\r\n","import React, {Component} from \"react\";\r\nimport \"./Button.css\";\r\nimport classNames from \"classnames\";\r\nimport {MiniLoader} from \"./Loader\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport const Button = (props) => {\r\n  let {type, onClick, text, loading} = props;\r\n  switch(type){\r\n case \"submit\":\r\n   return <button id=\"submit\" className={classNames({\"submit-button\": true, \"button-loading\":loading})} onClick={onClick} ><span className=\"button-text\"> {props.children} </span>{loading && <span className=\"button-loading\"> <MiniLoader /></span> }</button>\r\n case \"signin\":\r\n  return <button id=\"signin\" className=\"sign-in-btn\" onClick={onClick} >{text}</button>\r\n  case \"signup\":\r\n   return <button id=\"signup\" className=\"sign-up-btn\" onClick={onClick} >{text}</button>\r\n  case \"delete\":\r\n    return <button className=\"delete-btn\"> Delete </button>\r\n  default:\r\n return  <button  className={`submit-button`} style={{background: \"gray\"}}>loading...</button>\r\n}\r\n}\r\nButton.propTypes = {\r\n  type: PropTypes.string,\r\n  onClick: PropTypes.func,\r\n  loading: PropTypes.bool,\r\n  text: PropTypes.string\r\n}\r\n\r\nexport class DeleteButton extends Component{\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n      verify: false,\r\n      loading: false,\r\n      text: \"Delete\"\r\n    }\r\n    this.verifyDelete = this.verifyDelete.bind(this);\r\n    this.reset = this.reset.bind(this);\r\n  }\r\n  reset(){\r\n    this.setState({\r\n      verify: false,\r\n      loading: false,\r\n      text: \"Delete\"\r\n    })\r\n  }\r\n   verifyDelete(){\r\n     if(!this.state.verify){\r\n    this.setState({\r\n      verify: true,\r\n      text: \"Are you sure?\"\r\n    })}\r\n    else{\r\n      this.setState({\r\n        loading: true,\r\n        verify: false,\r\n        text: \"Deleting..\"\r\n      })\r\n    this.props.onClick();\r\n    }\r\n  }\r\n  render(){\r\n    const {verify, text} = this.state;\r\n\r\n    return(\r\n     <div tabIndex=\"0\" className={classNames({\"delete-btn\": true, \"delete-btn-danger\": verify, \"delete-btn-loading\": this.state.loading})} onClick={this.verifyDelete} onBlur={this.reset}> <p> {text} </p></div>\r\n    )\r\n  }\r\n\r\n\r\n\r\n}\r\nDeleteButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n\r\n}\r\n","import React, {Component} from \"react\";\r\nimport classNames from \"classnames\"\r\nimport {DropdownIcon} from \"../../common/logo\";\r\nclass Dropdown extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.onToggle = this.onToggle.bind(this);\r\n    this.setWrapper = this.setWrapper.bind(this);\r\n    this.setChildNode = this.setChildNode.bind(this);\r\n    this.handleClickOutisde = this.handleClickOutisde.bind(this);\r\n    this.state={\r\n      show:false\r\n    }\r\n  }\r\n  componentDidMount(){\r\n      document.addEventListener(\"mousedown\", this.handleClickOutisde);\r\n  }\r\n  componentWillUnmount(){\r\n      document.removeEventListener(\"mousedown\", this.handleClickOutisde);\r\n  }\r\n  onShow(){\r\n    this.setState({\r\n      show: true\r\n    })\r\n  }\r\n  onHide(){\r\n    this.setState({\r\n      show: false\r\n    })\r\n  }\r\n  onToggle(){\r\n    this.setState({\r\n      show: !this.state.show\r\n    })\r\n  }\r\n  setWrapper(node){\r\n    this.node = node;\r\n  }\r\n  setChildNode(node){\r\n    this.childNode = node;\r\n  }\r\n  //There are two refs here to handle different click events that show and hide the dropdown menu\r\n  //The outer ref handles outisde click events and allows the menu button to work without issue\r\n  //The inner ref is used for showing the drop down menu\r\n\r\n  handleClickOutisde(e){\r\n    if(this.node && !this.node.contains(e.target)){\r\n      this.onHide();\r\n    }\r\n  }\r\n  render(){\r\n    return(\r\n      <div ref={this.setWrapper} className=\"dropdown\">\r\n        <div className={classNames({\"dropdown-button\": true, \"dropdown-button-active\": this.state.show})} onClick={this.onToggle}> <DropdownIcon/> </div>\r\n         <div ref={this.setChildNode} className={classNames({\"dropdown-menu\": true, \"dropdown-show\":this.state.show})}>\r\n          {this.props.children}\r\n         </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport const DropdownItem = props =>{\r\n  return(\r\n    <div className=\"dropdown-item\" onClick={props.onClick}> {props.children} </div>\r\n  )\r\n}\r\n\r\nexport default Dropdown;\r\n","import axios from \"axios\";\r\n//Function to set an authorisation token, if the token argument is empty it removes any authorisation\r\nexport function setAuthToken(token){\r\n  if(token){\r\n    axios.defaults.headers.common[\"Authorization\"] =  `Bearer ${token}`;\r\n  }else {\r\n    delete axios.defaults.headers.common[\"Authorization\"];\r\n  }\r\n}\r\n\r\n//Typical Api call used throughout requests on the front end\r\nexport function apiCall(method, path, data, attempt = 1){\r\n  let apiUrl = (!process.env.NODE_ENV || process.env.NODE_ENV === 'development') ? process.env.REACT_APP_API_DEV : process.env.REACT_APP_API;\r\n  return new Promise(function withRetry(resolve, reject){\r\n    axios[method](`${apiUrl}${path}`, data)\r\n    .then(res => {\r\n      resolve(res.data)\r\n    })\r\n    .catch(err => {\r\n      if(attempt > 2) {\r\n          errorBreakdown(err, reject)\r\n      } else {\r\n          attempt+=1;\r\n          withRetry(resolve, reject);\r\n      }\r\n    })\r\n  });\r\n}\r\nfunction errorBreakdown(err, reject){\r\n  let errObject = {\r\n    message: err.response ? err.response.data.clientMessage : \"Sorry, we couldn't connect you to our server! \",\r\n    code: err.response ? err.response.status : 520\r\n  }\r\n  return reject(errObject)\r\n}\r\n","import {ADD_ERROR, REMOVE_ERROR, POPUP_SHOW, POPUP_HIDE, ADD_POPUP_BUTTON } from \"../actionTypes\";\r\n\r\nexport const addError = (data, method) => ({\r\n  type: ADD_ERROR,\r\n  data,\r\n  method\r\n});\r\nexport const popupButton = (text, func, args) =>({\r\n  type: ADD_POPUP_BUTTON,\r\n  func,\r\n  args,\r\n  text\r\n})\r\nexport const removeError = () => ({\r\n  type: REMOVE_ERROR,\r\n});\r\n\r\nexport const popupShow = () => ({\r\ntype: POPUP_SHOW\r\n\r\n})\r\nexport const popupHide = () => ({\r\ntype: POPUP_HIDE\r\n})\r\n\r\n\r\nexport const popupHandler = (method, data, func) => {\r\n  return dispatch => {\r\n    dispatch(popupShow());\r\n    dispatch(popupButton(func));\r\n    switch(method){\r\n      case \"error\":\r\n        dispatch(addError(data, method));\r\n        break\r\n      default:\r\n        dispatch(popupHide())\r\n    }\r\n\r\n  }\r\n}\r\n","import {apiCall } from \"../../services/api\";\r\nimport {addError, removeError, popupShow, popupButton} from \"./errors\";\r\nimport {showNewMessage} from \"./UI\";\r\nimport {LOAD_MESSAGES, REMOVE_MESSAGE, LIKE_MESSAGE, ANIMATE_REMOVE_MESSAGE, FETCHING_MESSAGES, UPDATE_MESSAGES, LAST_MESSAGE, POST_MESSAGE, LOAD_MSG_LIKES, UPDATE_LIKE_LIST } from \"../actionTypes\";\r\n\r\n\r\nexport const fetchingData = () =>({\r\n  type:FETCHING_MESSAGES,\r\n})\r\nexport const loadMessages = (messages, context) => ({\r\n  type: LOAD_MESSAGES,\r\n  messages,\r\n  context\r\n})\r\n\r\nexport const updateMessageList = (messages, context) => ({\r\n  type: UPDATE_MESSAGES,\r\n  messages,\r\n  context\r\n})\r\nexport const loadLikes = (users, context) => ({\r\n  type: LOAD_MSG_LIKES,\r\n  users,\r\n  context\r\n})\r\nexport const updateLikeList = (update, id, context) => ({\r\n  type: UPDATE_LIKE_LIST,\r\n  update,\r\n  id,\r\n  context\r\n})\r\nexport const remove = (id, context) => ({\r\n  type: REMOVE_MESSAGE,\r\n  id,\r\n  context\r\n});\r\n\r\nexport const animateRemove = (id, context) => ({\r\n  type: ANIMATE_REMOVE_MESSAGE,\r\n  id,\r\n  context\r\n})\r\nexport const likeMsg = (message, context)=> ({\r\n  type: LIKE_MESSAGE,\r\n  message,\r\n  context\r\n})\r\nexport const postMessage = (message, context) => ({\r\n  type: POST_MESSAGE,\r\n  message,\r\n  context\r\n})\r\nexport const lastMessage = (context) =>({\r\n  type: LAST_MESSAGE,\r\n  context\r\n})\r\n\r\n\r\nexport const lastMessageCheck = (message, dispatch, context) =>{\r\n  if(message && message.isLast){\r\n  return  dispatch(lastMessage(context));\r\n  };\r\n}\r\nexport const retry = (func, args)=>{\r\n  return func.apply(null, args)\r\n}\r\n// Use context to combine this with Follow list\r\nexport const getLikeList = (url) => {\r\n  return (dispatch, getState) => {\r\n    let {ui} = getState()\r\n    let {context} = ui\r\n    return apiCall(\"get\", `api/${url}`)\r\n      .then((res) => {\r\n        dispatch(loadLikes(res, context));\r\n        dispatch(removeError());\r\n      })\r\n      .catch((err) => {\r\n        dispatch(addError(err, getLikeList, [url]));\r\n      })\r\n  }\r\n}\r\n\r\nexport const followUser = ([userId, location, itemNum]) => {\r\n  return (dispatch, getState) => {\r\n    // let {ui} = getState()\r\n    // let {context} = ui\r\n    return apiCall(\"post\", `api/${userId}/follow`)\r\n    .then((res) => {\r\n      if(location===\"followList\"){\r\n        dispatch(updateLikeList(res.following, itemNum));\r\n        dispatch(removeError());\r\n      }else{\r\n      dispatch(removeError());\r\n    }\r\n     })\r\n    .catch(err =>{\r\n      dispatch(addError(err.errors.message));\r\n    });\r\n  };\r\n};\r\n\r\n//soft deletes the message, sets isDeleted: true\r\n//if a message isDeleted, it does not return from the api call\r\nexport const removeMessage = (user, message) => {\r\n  return (dispatch, getState) => {\r\n    let {ui} = getState()\r\n    let {context} = ui\r\n    return apiCall(\"put\", `api/messages/${message}/${user}/delete`, {isDeleted: true})\r\n    .then(() =>\r\n    dispatch(animateRemove(message, context))\r\n  )\r\n    .then(() => setTimeout(() => {\r\n      dispatch(remove(message, context));\r\n      dispatch(removeError());\r\n    }, 5000))\r\n    .catch((err) => {\r\n      dispatch(addError(err, \"error\"));\r\n      dispatch(popupButton(\"Retry?\", removeMessage, [user, message]));\r\n      dispatch(popupShow());\r\n    });\r\n  };\r\n};\r\n\r\nexport const likeMessage = (id) => {\r\n  return (dispatch, getState) => {\r\n    let {ui} = getState()\r\n    let {context} = ui\r\n    return apiCall(\"post\", `api/messages/${id}/like`)\r\n      .then((res) => {\r\n        dispatch(likeMsg(res, context));\r\n        dispatch(removeError());\r\n      })\r\n      .catch((err) => {\r\n        dispatch(addError(err, \"error\"));\r\n        dispatch(popupShow());\r\n        dispatch(popupButton(\"Retry?\", likeMessage, [id]));\r\n      })\r\n  }\r\n}\r\n\r\nexport const updateMessages = (user, lastMessage) =>{\r\n  return (dispatch, getState) => {\r\n    let {myProfile, ui} = getState()\r\n\r\n    let {context} = ui\r\n    let usernameCurrent = myProfile.auth.username\r\n    let url\r\n    if(user && usernameCurrent){\r\n      url = `api/user/${user}/messages/?from=${lastMessage}`\r\n    }\r\n      else if(!usernameCurrent){\r\n        url=`api/messages/allMessages/?from=${lastMessage}`\r\n      }\r\n    else {\r\n      url =`api/messages/?from=${lastMessage}`\r\n    }\r\n      return apiCall(\"get\", url)\r\n              .then((res) => {\r\n                dispatch(updateMessageList(res, context));\r\n                lastMessageCheck(res[res.length -1], dispatch, context)\r\n                dispatch(removeError());\r\n              })\r\n              .catch((err) => {\r\n                dispatch(addError(err, \"error\"));\r\n                dispatch(popupShow());\r\n                dispatch(popupButton(\"Retry?\", updateMessages, [user, lastMessage]));\r\n              });\r\n}\r\n}\r\n\r\n//posts with the current user\r\n//Backend checks login authentication and authorisation\r\nexport const postNewMessage = (text) => (dispatch, getState) => {\r\n  let {ui} = getState();\r\n  let {context} = ui\r\n  // const id = myProfile.auth.userId;\r\n  // dispatch(isLoading())\r\n  return apiCall(\"post\", `api/messages`, {text})\r\n  .then(res => {\r\n    dispatch(postMessage(res, context));\r\n    dispatch(showNewMessage())\r\n    dispatch(removeError());\r\n    // dispatch(isLoaded())\r\n  })\r\n  .catch(err => {\r\n    dispatch(addError(err, \"error\"));\r\n    dispatch(popupShow());\r\n    dispatch(popupButton(\"Retry?\", postNewMessage, [text]));\r\n  });\r\n};\r\n\r\n\r\n\r\n/*\r\n\r\nOLD CODE FOR REFERENCE\r\nHas been replaced with a single function for both user profile and messages\r\n*/\r\n\r\n\r\n//Gets messages from API,\r\n// export const fetchMessages = (user) => {\r\n//   return (dispatch, getState) => {\r\n//     // dispatch(fetchingData());\r\n//     let {currentUser} = getState()\r\n//     let username = currentUser.user.username\r\n//  if(!user){\r\n//           dispatch(isLoading());\r\n//     Promise.all([apiCall(\"get\", `/api/messages/`), apiCall(\"get\", `/api/user/${username}`)])\r\n//             .then((res) => {\r\n//               dispatch(loadProfile(res[1]));\r\n//               dispatch(loadMessages(res[0]));\r\n//               lastMessageCheck(res[0][res[0].length -1], dispatch)\r\n//               dispatch(isLoaded());\r\n//               dispatch(removeError());\r\n//             })\r\n//             .catch((error) => {\r\n//               dispatch(addError(error)); //Alter this later\r\n//     });\r\n//   };\r\n// }\r\n//\r\n// };\r\n","import {apiCall, setAuthToken } from \"../../services/api\";\r\nimport {addError, removeError, popupShow, popupButton, popupHide} from \"./errors\";\r\nimport {updateLikeList, loadMessages, lastMessageCheck} from \"./messages\";\r\nimport {isLoading, isLoaded} from \"./UI\";\r\nimport {LOAD_USER_PROFILE, LOAD_USER_FOLLOW, UPDATE_USER_PROFILE, UPDATE_FOLLOW_LIST, UPDATE_CURRENT_USER, FETCHING_PROFILE, GET_DISCOVER_USERS, CLEAR_FOLLOW} from \"../actionTypes\";\r\n\r\nexport const loadProfile = (user, context) => ({\r\n  type: LOAD_USER_PROFILE,\r\n  user,\r\n context\r\n});\r\nexport const fetchingProfile = () => ({\r\n  type: FETCHING_PROFILE\r\n})\r\nexport const updateCurrentUser = (user, context) => ({\r\n  type: UPDATE_CURRENT_USER,\r\n  user\r\n})\r\nexport const updateProfile = (update, context) => ({\r\n  type: UPDATE_USER_PROFILE,\r\n  update,\r\n  context\r\n})\r\nexport const loadFollow = users => ({\r\n  type: LOAD_USER_FOLLOW,\r\n  users\r\n})\r\nexport const clearFollow = () => ({\r\n  type: CLEAR_FOLLOW\r\n})\r\nexport const updateFollowList = (update, id) => ({\r\n  type: UPDATE_FOLLOW_LIST,\r\n  update,\r\n  id\r\n})\r\nexport const discoverUsers = users => ({\r\n  type: GET_DISCOVER_USERS,\r\n  users\r\n})\r\n\r\nexport function setAuthorizationToken(token){\r\n  setAuthToken(token);\r\n}\r\n\r\nexport const getDiscoverUsers = () => {\r\n  return (dispatch, getState) => {\r\n    let {myProfile} = getState();\r\n    if(myProfile.auth.isLoggedIn){\r\n    return apiCall(\"get\", \"api/discover/users\")\r\n    .then(res => {\r\n      dispatch(discoverUsers(res));\r\n    })\r\n    .catch(err => {\r\n      dispatch(addError(err, \"error\"));\r\n    })\r\n  }\r\n}\r\n}\r\n\r\nexport const getUserProfile = (username) => {\r\n  return (dispatch, getState) => {\r\n    let {myProfile, ui} = getState()\r\n    let {context}  = ui;\r\n    let usernameCurrent = myProfile.auth.username\r\n    let apiUrl = {              //If More urls need to be added, they can be done so here\r\n      dashboard: {\r\n        messages: `api/messages/`,\r\n        profile: `api/user/${usernameCurrent}`\r\n      },\r\n      profile: {\r\n        messages: `api/user/${username}/messages/`,\r\n        profile: `api/user/${username}`\r\n      },\r\n      myProfile:{\r\n        messages: `api/user/${usernameCurrent}/messages/`,\r\n        profile: `api/user/${usernameCurrent}`\r\n      }\r\n    }\r\n    let callDetails\r\n    if(  !usernameCurrent && !username ){\r\n      apiUrl.dashboard.messages = \"api/messages/allMessages/\";\r\n      callDetails = [apiCall(\"get\", apiUrl[context].messages)]\r\n    }else{\r\n      callDetails = [apiCall(\"get\", apiUrl[context].messages), apiCall(\"get\", apiUrl[context].profile)]\r\n    }\r\n    if((getState()[context].messages.data.length < 1) || ((context === \"profile\") && (getState().profile.profile.username !== username)) ){\r\n      dispatch(isLoading());\r\n      Promise.all(callDetails)\r\n      .then((res) => {\r\n        dispatch(loadMessages(res[0], context));\r\n        lastMessageCheck(res[0][res[0].length -1], dispatch, context)\r\n        dispatch(loadProfile(res[1], context));\r\n        dispatch(removeError());\r\n        dispatch(popupHide());\r\n        dispatch(isLoaded());\r\n    })\r\n    .catch((err) => {\r\n      console.log(err)\r\n        dispatch(popupShow())\r\n        dispatch(addError(err, \"error\"));\r\n        if(err.code === 404){\r\n          dispatch(popupButton(\"Go Back\"))\r\n        }else{\r\n          dispatch(popupButton(\"Retry?\", getUserProfile, [username]))\r\n        }\r\n        dispatch(isLoaded());\r\n\r\n    });\r\n  }\r\n  }\r\n}\r\nexport const retry = (func, args)=>{\r\n    return func.apply(null, args)\r\n}\r\n\r\n\r\n//Collects the list of followers/following\r\n//url is passed as an argument to clarify following || followers\r\nexport const getFollowList = (url) => {\r\n  return dispatch => {\r\n    return apiCall(\"get\", `api/user/${url}`)\r\n      .then((res) => {\r\n        dispatch(loadFollow(res));\r\n        dispatch(removeError());\r\n      })\r\n      .catch((err) => {\r\n        dispatch(addError(err, \"error\"));\r\n\r\n      })\r\n  }\r\n}\r\n\r\nexport const clearFollowList = () => {\r\n  return dispatch => {\r\n    dispatch(clearFollow());\r\n  }\r\n}\r\n\r\n//Edits part of the profile (not the password currently - TODO)\r\n//Upon edit, it will update the token within the local storage\r\nexport const editProfile = (userData, next) => (dispatch, getState) => {\r\n  let {ui} = getState()\r\n  let {context}  = ui;\r\n  return apiCall(\"post\", `api/user/updateprofile`, {userData})\r\n  .then(res => {\r\n    localStorage.setItem(\"jwtToken\", res.token)\r\n    dispatch(updateCurrentUser(res.response, context));\r\n    dispatch(removeError());\r\n  })\r\n  .then(() => {\r\n    next();\r\n  })\r\n  .catch(err => {\r\n    dispatch(addError(err, \"error\"));\r\n    dispatch(popupShow());\r\n    dispatch(popupButton(\"Retry?\", editProfile, [userData, next]));\r\n  });\r\n};\r\n\r\nexport const followUser = ([userId, location, itemNum]) => {\r\n  return (dispatch, getState) => {\r\n    let {ui} = getState()\r\n    let {context} = ui\r\n    return apiCall(\"post\", `api/user/${userId}/follow`)\r\n    .then((res) => {\r\n      if(location===\"followList\"){\r\n        dispatch(updateFollowList(res.following, itemNum));\r\n        dispatch(removeError());\r\n      }else if(location ===\"likesList\"){\r\n        dispatch(updateLikeList(res.following, itemNum, context));\r\n        dispatch(removeError());\r\n      }\r\n        else{\r\n      dispatch(updateProfile(res, context));\r\n      dispatch(removeError());\r\n    }\r\n     })\r\n    .catch(err =>{\r\n      dispatch(addError(err, \"error\"));\r\n      dispatch(popupShow());\r\n      dispatch(popupButton(\"Retry?\", followUser, [userId, location, itemNum]));\r\n    });\r\n  };\r\n};\r\n\r\n\r\n/*\r\n\r\nOLD CODE FOR REFERENCE\r\n\r\n*/\r\n\r\n\r\n//This is used to get the profile of the user (not including messages, that is a seperate API call)\r\n// export const getUserProfile = (username) => {\r\n//   return dispatch => {\r\n//     dispatch(isLoading());\r\n//     return apiCall(\"get\", `/api/user/${username}`) //This previously used the ID of the user, I may revert if necessary.\r\n//     .then((res) => {\r\n//       dispatch(loadProfile(res));\r\n//       dispatch(removeError());\r\n//       dispatch(isLoaded());\r\n//     })\r\n//     .catch((err) => {\r\n//       dispatch(addError(err));\r\n//     });\r\n//   };\r\n// };\r\n","import {SHOW_FOLLOW, CLOSE_FOLLOW, SHOW_LIKES, CLOSE_LIKES, SHOW_NEW_MESSAGE, EDIT_PROFILE_PAGE, CLEAR_ALL,SHOW_SIDEBAR, HIDE_SIDEBAR, ANIMATE_CLOSE, IS_LOADING, IS_LOADED, WINDOW_RESIZE, SET_CONTEXT} from \"../actionTypes\";\r\nimport {getFollowList, clearFollowList} from \"./userProfile\";\r\nimport {getLikeList} from \"./messages\";\r\n\r\nexport const showFollow = (obj) => ({\r\n  type: SHOW_FOLLOW,\r\n  title: obj.title || null,\r\n  url: obj.url|| null,\r\n  method: obj.method\r\n})\r\nexport const showSidebar = (show) => ({\r\n  type: SHOW_SIDEBAR,\r\n  show\r\n})\r\nexport const hideSidebar = (show) => ({\r\n  type: HIDE_SIDEBAR,\r\n  show\r\n})\r\nexport const hideFollow = () =>({\r\n  type:CLOSE_FOLLOW\r\n})\r\n\r\nexport const showNewMessage = (obj) => ({\r\n  type:SHOW_NEW_MESSAGE\r\n\r\n})\r\nexport const likesList = (obj) => ({\r\n  type: SHOW_LIKES,\r\n  title: obj.title || null,\r\n  url: obj.url|| null,\r\n  method: obj.method\r\n})\r\nexport const hideLikes = () => ({\r\n  type: CLOSE_LIKES\r\n})\r\n\r\nexport const animateHide = (select) => ({\r\n  type: ANIMATE_CLOSE,\r\n  select\r\n})\r\n\r\nexport const clearAll = () => ({\r\n  type: CLEAR_ALL\r\n})\r\nexport const isLoading = () => ({\r\n  type: IS_LOADING\r\n})\r\nexport const isLoaded = () => ({\r\n  type: IS_LOADED\r\n})\r\nexport const windowResize = (size) => ({\r\n  type: WINDOW_RESIZE,\r\n  size\r\n})\r\nexport const contextSet = context => ({\r\n  type: SET_CONTEXT,\r\n  context\r\n})\r\nexport const editProfilePageChange = page => ({\r\n  type: EDIT_PROFILE_PAGE,\r\n  page\r\n})\r\n\r\nexport const sidebarShow = (show) => {\r\n  return dispatch => {\r\n    dispatch(showSidebar(show))\r\n  }\r\n}\r\nexport const sidebarHide = (show) => {\r\n  return dispatch => {\r\n    dispatch(hideSidebar(show))\r\n  }\r\n}\r\nexport const resizeFunction = (obj) => {\r\n  return dispatch => {\r\n    dispatch(windowResize(obj <= 500))\r\n  }\r\n}\r\nexport const showMessageBox = (obj) => {\r\n  return dispatch => {\r\n    dispatch(showNewMessage())\r\n  }\r\n}\r\nexport const editProfileSelector =(page) => {\r\n  return dispatch => {\r\n    dispatch(editProfilePageChange(page))\r\n  }\r\n}\r\nexport const showLikesList = (obj, hide) => {\r\n  return (dispatch, getState) => {\r\n    if(hide) {\r\n      dispatch(animateHide(hide))\r\n      setTimeout( () => {\r\n        dispatch(hideLikes());\r\n      }, 400)\r\n    }else{\r\n      dispatch(getLikeList(obj.url)).then(()=> {\r\n        dispatch(likesList(obj))\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\nexport const popUpDisplay = (obj, hide) =>{\r\n  return dispatch => {\r\n\r\n    if(hide){\r\n      dispatch(hideFollow());\r\n    }else{\r\n      dispatch(getFollowList(obj.url)).then(()=> {\r\n        dispatch(showFollow(obj))\r\n      })\r\n\r\n    }\r\n  }\r\n}\r\nexport const clearAllPopUps = () => {\r\n  return dispatch => {\r\n    dispatch(clearAll())\r\n  }\r\n}\r\n\r\nexport const setContext = (context) => {\r\n  return dispatch => {\r\n    dispatch(contextSet(context))\r\n  }\r\n\r\n}\r\nexport const popUpHide = (select) => {\r\n  return dispatch => {\r\n    dispatch(animateHide(select))\r\n    setTimeout( () => {\r\n\r\n      dispatch(hideFollow())\r\n      dispatch(clearFollowList())\r\n    }, 400)\r\n\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport {connect } from \"react-redux\";\r\nimport {followUser} from \"../store/actions/userProfile\";\r\nimport {Link} from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport {sidebarShow} from \"../store/actions/UI\";\r\n\r\nconst followButton = (props) => {\r\n  const handleFollow = () =>{\r\n    props.followUser(props.followType)\r\n    //FollowType is an array with [0]Username [1] Location [2] ID in list, if ![1] & ![2] normal follow action occurs\r\n    //Extra array information is for use in lists with followbuttons for immediate update of follow status\r\n  }\r\n\r\n// Checks to see if the API has responded with a truthy determining following for the current user and the user of profile button\r\n\r\n  const following = () => {\r\n    if(props.following){\r\n      return \"unfollow\"\r\n    }else if(props.username === props.current){\r\n      return \"profileEdit\"\r\n    }\r\n    else{\r\n      return \"follow\";\r\n    }\r\n  }\r\n  const buttonType = following();\r\n  if(props.current){\r\n\r\n\r\n    //Pass in a \"type\" to choose the correct kind of button\r\n    const buttonSelector = (buttonType) => {\r\n      switch(buttonType){\r\n        case \"follow\":\r\n        return <button className={`follow-button ${props.extraClass && props.extraClass}`} onClick={handleFollow} > Follow </button>\r\n        case \"unfollow\":\r\n        return <button  className={`follow-button unfollow-button ${props.extraClass && props.extraClass}`}onClick={handleFollow} >unfollow </button>\r\n        case \"profileEdit\":\r\n        return   <Link to={`/editprofile`} style={{width: \"100%\", margin: \"auto\"}}><button  className={`follow-button unfollow-button ${props.extraClass && props.extraClass}`} style={{width: \"100%\", fontSize: \"70%\"}} onClick={() => props.sidebarShow(true)} >Edit Profile</button></Link>\r\n        default:\r\n        return  <button  className={`follow-button unfollow-button`} style={{background: \"gray\"}}>loading...</button>\r\n      }\r\n    }\r\n    return(\r\n      props.current &&\r\n      <div className=\"follow-container\">\r\n      {buttonSelector(buttonType)}\r\n      </div>\r\n    )\r\n  }\r\n  else{\r\n    return(null)\r\n  }\r\n}\r\n\r\nfollowButton.propTypes ={\r\n  followType: PropTypes.array,\r\n  username: PropTypes.string.isRequired,\r\n  current: PropTypes.string,\r\n\r\n\r\n}\r\nfunction mapStateToProps(state){\r\n  return {\r\n    current: state.myProfile.auth.username\r\n  };\r\n}\r\nexport default connect(mapStateToProps, {followUser, sidebarShow })(followButton);\r\n","import React from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport FollowButton from \"./FollowButton\";\r\nimport ProfileImg from \"./ProfileImg\";\r\nimport {popUpHide} from \"../store/actions/UI\";\r\nimport {connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\n//Individual element within the list of followers, this is used for both followers and following\r\nconst SingleListItem = (props) => {\r\n  return(\r\n    <div className={`${props.className} `}>\r\n      <ProfileImg\r\n        username={props.username}\r\n        profileImg= {props.profileImgUrl}\r\n        profileColor={props.profileColor}\r\n      />\r\n      <Link to={`/u/${props.username}`} onClick={props.popUpHide}>\r\n      {props.username}\r\n      </Link>\r\n      <FollowButton\r\n        username={props.username}\r\n        current={props.currentUser.current}\r\n        followType={[props.username, props.followType, props.itemNum]} //This sends in the Username, location of store of the list and also location of the button of the list\r\n        extraClass={\"follow-btn-small\"}                                //Allows for self updating follow buttons on lists\r\n        following={props.following}                                    //[0] UserName of Person to follow\r\n        itemNum={props.itemNum}                                        //[1] Specifies list location (for the REDUX store )\r\n                                                                       //[2] Specifies index of ListItem to update\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nSingleListItem.propTypes = {\r\n  className: PropTypes.string,\r\n  username: PropTypes.string,\r\n  profileImgUrl: PropTypes.string,\r\n  profileColor: PropTypes.string,\r\n  currentUser: PropTypes.object,\r\n  followType: PropTypes.string,\r\n  itemNum: PropTypes.number\r\n}\r\n\r\nexport default connect(null, {popUpHide})(SingleListItem);\r\n","import React from 'react';\r\nimport SingleListItem from \"./SingleListItem\";\r\nimport {getFollowList} from \"../store/actions/userProfile\";\r\nimport \"./ListUsers.css\";\r\nimport {popUpHide, showLikesList} from \"../store/actions/UI\";\r\nimport {connect} from \"react-redux\";\r\nimport{BackIcon} from \"./logo\";\r\nimport classNames from \"classnames\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst ListUsers =  (props) => {\r\n  //Type decides if the List renders for likes under messages, or followers/following under userprofile\r\n  const {type} = props;\r\n  const goBack = () =>{\r\n    if(type === \"likes\"){\r\n      props.showLikesList(null, \"likes\");\r\n    }else if(type ===\"follow\"){\r\n      props.popUpHide(\"follow\");\r\n    }\r\n  }\r\n  let tester = {\r\n    likes: {\r\n      list: props.context && props.state[props.context].messages.likes\r\n    },\r\n    follow: {\r\n      list: props.follow\r\n    }\r\n  }\r\n    let List\r\n\r\n    if(tester[type].list && (!tester[type].list.length < 1)){\r\n      //Similar to messages; maps over the the returned data and makes a list of followers with functioning following buttons (reason for currentUser)\r\n    List = tester[type].list.map( (user, index) => (\r\n      <SingleListItem {...user} currentUser={props} followType={`${type}List`} className={classNames({[`${type}-list-box`]:true, \"list-box\":true, \"list-exit\":props.ui[type].animateOut})}  itemNum={index} key={`${index}${user.username}`} />\r\n    ))}else{\r\n    List = <h3 className=\"likes-title\">Uh-oh, there is nothing here yet! :(</h3>\r\n    }\r\n    return(\r\n      <div className={type === \"follow\" ? \"follow-list-container\" : \"likes-area\"}>\r\n        <div  onClick={goBack} className=\"back-button back-button-reverse\"> <div className=\"back-icon back-icon-reverse\"><BackIcon /> </div>  <h3 className=\"likes-title\">\r\n          {props.ui[type].title}\r\n\r\n        </h3> </div>\r\n        <div className={classNames({[`${type}-list`]:true,  \"list-enter\": true, \"list-exit\":props.ui[type].animateOut })}>\r\n        {List}\r\n      </div>\r\n        <div onClick={goBack} className=\"\"> </div>\r\n      </div>\r\n    )\r\n}\r\nListUsers.propTypes = {\r\n  type: PropTypes.string,\r\n  popUpHide: PropTypes.func,\r\n  follow: PropTypes.array,\r\n  ui: PropTypes.object,\r\n  likes: PropTypes.array\r\n}\r\nfunction mapStateToProps(state){\r\n  return {\r\n    follow: state.follow,\r\n    current: state.myProfile.auth.username,\r\n    ui: state.ui,\r\n    context: state.ui.context,\r\n    // likes: state.messages.likes,\r\n    state: state\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, {getFollowList, popUpHide, showLikesList})(ListUsers);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {Link} from \"react-router-dom\";\r\nimport Moment from \"react-moment\";\r\nimport ProfileImg from \"../../common/ProfileImg\";\r\nimport {LikeButton} from \"../../common/logo\";\r\nimport classNames from \"classnames\";\r\nimport {DeleteButton} from \"../../common/Button\";\r\nimport Dropdown, {DropdownItem} from \"./Dropdown\";\r\nimport {connect} from \"react-redux\";\r\nimport {showLikesList} from \"../../store/actions/UI\";\r\nimport ListUsers from \"../../common/ListUsers\";\r\nimport \"./Message.css\";\r\n/*Temporary styling for colors for each user*/\r\nfunction randomColor(){\r\n  let red = Math.floor(Math.random() * 255);\r\n  let blue = Math.floor(Math.random() * 255);\r\n  let green = Math.floor(Math.random() * 255);\r\n  return `rgb(${red}, ${blue}, ${green})`;\r\n}\r\nlet color = randomColor();\r\nconst Message = ({text, userId, createdAt, ownerCheck, removeMessage, loading, likedBy, likeMessage, isLiked, isDeleted, _id,  showLikesList, ui, context, isLoggedIn}) => {\r\n  function handleLikesShow(id){\r\n    let obj = {\r\n      method: \"list\",\r\n      title: \"Message likes\",\r\n      url: `messages/${id}/likes`\r\n    }\r\n    if(ui.display === true && likeId ===_id){\r\n      showLikesList(null, \"likes\");\r\n    }else{\r\n      showLikesList(obj)\r\n    }\r\n  }\r\n  let likeId\r\n\r\n  if(ui.url){\r\n    likeId = ui.url.split(\"/\")[1]\r\n  }\r\n\r\n  function showLikes(){\r\n  if(likeId === _id){\r\n    return  <ListUsers type={\"likes\"} context={context} />\r\n  }\r\n}\r\n\r\n return loading ?\r\n  <div className={classNames({\"ind-message\": true,\"item-box\": true, \"ind-message-on-delete\": isDeleted})} style={{borderRight: `4px solid ${color}`}}>\r\n    <ProfileImg\r\n      loading={loading}\r\n    />\r\n    <div className=\"message-loading-text\">\r\n    Loading\r\n    </div>\r\n  </div>\r\n  :\r\n  <div className={classNames({\"message-wrapper\": true,  \"ind-message-on-delete\": false})}>\r\n  <div className={classNames({\"ind-message\": true, \"item-box\": true, \"ind-message-on-delete\": isDeleted})} >\r\n    <ProfileImg\r\n      username={userId.username}\r\n      profileImg= {userId.profileImgUrl}\r\n      profileColor={userId.profileColor}\r\n      loading={loading}\r\n    />\r\n    <div className=\"message-username\">\r\n          <Link to={`/u/${userId.username}`}>{userId.displayName} <span  style={{color:\"gray\", fontSize:\"0.7rem\", padding:\"0 0 0 3px\"}}> @{userId.username}  </span></Link>\r\n    </div>\r\n    <div className=\"time\">\r\n            <span ><Moment format=\"YYYY/MM/DD\">{createdAt}</Moment></span>\r\n            <span > <Moment format=\"HH:mm\">{createdAt}</Moment></span>\r\n    </div>\r\n    {isLoggedIn &&<Dropdown>\r\n        {(ownerCheck && <DropdownItem> <DeleteButton type=\"delete\" onClick={removeMessage} /></DropdownItem>)}\r\n        <DropdownItem onClick={likeMessage}> <p> Like</p>  </DropdownItem>\r\n      </Dropdown>\r\n    }\r\n          <p className=\"message-text\">{text}</p>\r\n          {/* This handles liking\r\n           if the user has already liked it (as returned from the API in a truthy) it will show a red heart\r\n           otherwise it is clear\r\n           isLiked is passed through props using classNames.\r\n           likedBy refers to the number of likes the post has recieved\r\n           this is returned from the API as a number only (array.length())\r\n           */}\r\n      <div className=\"message-likes\">\r\n        {isLoggedIn &&<div onClick={likeMessage} className={classNames({\"like-button\": true, \"like-button-true\": isLiked})} ><LikeButton /></div>}\r\n        <button onClick={() =>  handleLikesShow(_id)}><span> {likedBy} likes</span> </button>\r\n      </div>\r\n      <div className=\"color-message-border\"\r\n        style={{background: `${userId.profileColor? userId.profileColor:randomColor()} `}}>\r\n\r\n        </div>\r\n  </div>\r\n  {ui.display && showLikes()}\r\n  </div>;\r\n};\r\nMessage.propTypes ={\r\ntext: PropTypes.string,\r\nuserId: PropTypes.object,\r\ncreatedAt:PropTypes.string,\r\nownerCheck:PropTypes.bool,\r\nremoveMessage: PropTypes.func,\r\nloading: PropTypes.bool,\r\nlikedBy: PropTypes.number,\r\nlikeMessage:PropTypes.func,\r\nisLiked: PropTypes.bool,\r\nisDeleted:PropTypes.bool,\r\n_id:PropTypes.string,\r\nshowLikesList:PropTypes.func,\r\nui:PropTypes.object\r\n}\r\n\r\n\r\n\r\n\r\n  function mapStateToProps(state){\r\n    return {\r\n      ui: state.ui.likes\r\n    };\r\n  }\r\nexport default connect(mapStateToProps, {showLikesList})(Message);\r\n","import React from \"react\";\r\nimport classNames from \"classnames\";\r\nimport {connect} from \"react-redux\";\r\nimport {BackIcon} from \"./logo\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst SlideBox = ({backAction, content}) =>{\r\n//When clicking the back button, it will animate outwards (to left) then revert to previous page/action (passed in through props)\r\n  const back = () =>{\r\n    backAction()\r\n  }\r\n    return(\r\n    <div className={classNames({\"container-box\": true})}>\r\n      <div onClick={back} className=\"back-button\">\r\n        <div className=\"back-icon back-icon-reverse\"><BackIcon /> </div>\r\n      </div>\r\n        {content}\r\n    </div>)\r\n}\r\n\r\nSlideBox.propTypes = {\r\n  content: PropTypes.element.isRequired\r\n}\r\n\r\nfunction mapStateToProps(state){\r\n  return {\r\n    animate: state.animate,\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(SlideBox)\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {connect } from \"react-redux\";\r\nimport \"./NewMessage.css\";\r\nimport  {postNewMessage}  from \"../../store/actions/messages\";\r\nimport {Button} from \"../../common/Button\";\r\nimport {showNewMessage} from \"../../store/actions/UI\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport classNames from \"classnames\";\r\nimport SlideBox from \"../../common/SlideBox\"\r\nclass NewMessage extends Component{\r\n    constructor(props){\r\n    super(props);\r\n    this.state = {text: \"\",\r\n                  loading: false,\r\n                  show: false\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.characterCount = this.characterCount.bind(this);\r\n    this.letterCheck = this.letterCheck.bind(this);\r\n    this.goBack = this.goBack.bind(this);\r\n    }\r\n  characterCount(text){\r\n    let limit = 160;\r\n    let currentCount = text.split('').length;\r\n    return limit -= currentCount;\r\n  }\r\n  handleChange(e){\r\n    this.setState({\r\n        text: e.target.value\r\n    });\r\n  }\r\n  //At the moment this just sends the user back to the previous page - either don't use router or think of a better solution\r\n  goBack(){\r\n    // this.props.animateExitReverse();\r\n    this.setState({\r\n      show: false\r\n    })\r\n    setTimeout(() => this.props.showNewMessage(), 1000)\r\n    // this.props.showNewMessage();\r\n    // this.props.history.push(\"/\");\r\n  }\r\n  componentDidMount(){\r\n    this.setState({\r\n      show: true\r\n    })\r\n  }\r\n  componentWillMount(){\r\n    // this.props.animateEnter();\r\n  }\r\n\r\n  handleSubmit(e){\r\n    e.preventDefault();\r\n    const lengthCheck = this.state.text.length;\r\n    //Prevent sending if over character limit of database (160 characters - subject to change )\r\n    if(lengthCheck < 161 && lengthCheck > 0 ){\r\n      this.props.postNewMessage(this.state.text);\r\n      this.setState({\r\n        text: \"\",\r\n        loading:true\r\n      });\r\n\r\n      //2 second delay to simulate loading - purely for test purposes\r\n      // setTimeout(this.goBack, 400)\r\n      }else if(lengthCheck === 0 ){\r\n        this.setState({\r\n          error:\"Please write a message!\"\r\n        });\r\n      }\r\n  }\r\n  //Check the letter count and change the color of the text\r\n  letterCheck(count){\r\n    if(count < 0){\r\n      return \"red\";\r\n    }\r\n    else{\r\n      return \"green\";\r\n    }\r\n  }\r\n    render(){\r\n    const currentCharacterCount = this.characterCount(this.state.text);\r\n    const content = (\r\n      <div className=\"new-inner-contents\">\r\n        {this.props.errors.message && (<div>{this.props.errors.message}</div>)}\r\n        <form\r\n         onSubmit={this.handleSubmit}\r\n         className=\"new-message-form\"\r\n        >\r\n          <label>Make a new Post</label>\r\n          <textarea\r\n            name=\"text\"\r\n            className=\"new-message-textarea\"\r\n            value={this.state.text}\r\n            onChange={this.handleChange}\r\n            placeholder=\"Hi there\"\r\n            autoFocus\r\n          />\r\n          <p\r\n            style={{color: this.letterCheck(currentCharacterCount)}}\r\n            className=\"character-counter\"\r\n          >\r\n            {currentCharacterCount}\r\n          </p>\r\n          <Button\r\n            type=\"submit\"\r\n            loading={this.state.loading}>\r\n            <span style={{width: \"100%\"}}>Post</span>\r\n            </Button>\r\n        </form>\r\n      </div>\r\n    )\r\n    return(\r\n      <div className={classNames({\"new-message-box\": true, \"show-message-box\": this.state.show})}>\r\n        <SlideBox\r\n          exit={null}\r\n          exitReverse={null}\r\n          backAction={this.goBack}\r\n          content={content} />\r\n      </div>\r\n      );\r\n  }\r\n}\r\nNewMessage.propTypes = {\r\n  errors: PropTypes.object,\r\n  postNewMessage: PropTypes.func,\r\n  showNewMessage: PropTypes.func\r\n}\r\n\r\nfunction mapStateToProps(state){\r\n  return {\r\n    errors: state.errors\r\n  };\r\n}\r\nexport default withRouter(connect(mapStateToProps, {postNewMessage, showNewMessage})(NewMessage));\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Message from \"./Message\";\r\nimport { removeMessage, likeMessage } from \"../../store/actions/messages\";\r\nimport \"./MessageList.css\";\r\nimport {connect } from \"react-redux\";\r\nimport classNames from \"classnames\";\r\nimport NewMessage from \"./NewMessage\";\r\nconst MessageList = props =>{\r\n  const  {messages, removeMessage, currentUser, likeMessage, ui} = props;\r\n  let MessageList;\r\n  MessageList = messages.data.map((m)=>\r\n    (<Message {...m} key={m._id}\r\n      removeMessage ={removeMessage.bind(this, m.userId._id, m._id)}\r\n      likeMessage = {likeMessage.bind(null, m._id)}\r\n      ownerCheck = {currentUser.userId === m.userId._id}\r\n      animate = {props.animate}\r\n      isLoggedIn = {currentUser.isLoggedIn}\r\n\r\n    />)\r\n  );\r\n  // }\r\n  return(\r\n    <div className={classNames({\"message-container\": true, \"message-container-no-auth\": !currentUser.isLoggedIn})}>\r\n    {ui.newMessage.display &&\r\n      <NewMessage />}\r\n      {MessageList}\r\n      {loadMoreContent(props)}\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nconst loadMoreContent = props =>{\r\n  const {messages, bottomClick} = props;\r\n  if(messages.loading){\r\n    return  <div className={\"item-box page-change\"}> <h3> Loading </h3> </div>\r\n  }else if(messages.isLast || messages.data.length < 1){\r\n    return <div className={\"item-box page-change inactive\"}> <h3> Nothing to show! </h3> </div>\r\n  }\r\n  else{\r\n    return <div className={\"item-box page-change page-change-active\"}  onClick={bottomClick}><h1>  + </h1> </div>\r\n  }\r\n}\r\n\r\nMessageList.propTypes = {\r\n  messages: PropTypes.object,\r\n  removeMessage: PropTypes.func,\r\n  currentUser: PropTypes.object,\r\n  likeMessage: PropTypes.func,\r\n  ui: PropTypes.object,\r\n}\r\n\r\nfunction mapStateToProps(state){\r\n  return {\r\n    ui: state.ui,\r\n    currentUser: state.myProfile.auth\r\n\r\n    };\r\n}\r\nexport default connect(mapStateToProps, {removeMessage, likeMessage})(MessageList);\r\n","import React from \"react\";\r\nimport {popUpDisplay, clearAllPopUps} from \"../../store/actions/UI\";\r\nimport {connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport {withRouter} from \"react-router-dom\";\r\n//Each individual item seen in the Meta group\r\nconst UserMeta = ({text, data, classDefine, username, type, popUpDisplay, ui, history, clearAllPopUps}) => {\r\n  function handleFollowShow(){\r\n    let obj = {\r\n      method: \"list\",\r\n      title: `${type[0].toUpperCase()}${type.slice(1)}`, //bit hacky\r\n      url: `user/${username}/${type}`\r\n    }\r\n    if(obj.url === ui.url ){\r\n      popUpDisplay(obj, true)\r\n    }\r\n    else if(type === \"posts\"){\r\n      clearAllPopUps()\r\n      history.push(`/u/${username}`)\r\n    }\r\n    else{\r\n      popUpDisplay(obj)\r\n    }\r\n  }\r\n  return(\r\n        <div className={classDefine}>\r\n          <button onClick={handleFollowShow}>\r\n          <div className=\"meta-number\">\r\n          {data}\r\n          </div>\r\n            <div className=\"\">\r\n              {text}\r\n            </div>\r\n          </button>\r\n        </div>\r\n    );\r\n};\r\nUserMeta.propTypes= {\r\n  text: PropTypes.string,\r\n  data: PropTypes.number,\r\n  classDefine: PropTypes.string,\r\n  username: PropTypes.string,\r\n  type: PropTypes.string,\r\n  popUpDisplay: PropTypes.func,\r\n  ui: PropTypes.object,\r\n  history: PropTypes.object,\r\n  clearAllPopUps: PropTypes.func\r\n}\r\nfunction mapStateToProps(state){\r\n  return {\r\n    ui: state.ui.follow\r\n  };\r\n}\r\nexport default withRouter(connect(mapStateToProps, {popUpDisplay, clearAllPopUps})(UserMeta));\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport UserMeta from \"./UserMetaItem\";\r\nexport const UserMetaGroup = ({profile}) => {\r\n  let {messageCount, followerCount, followingCount, username} = profile;\r\n  //Small area for displaying some meta deta at the bottom of a users profile\r\n  //This may get combined into another file for small things such as this.\r\n  return(\r\n  <div className=\"user-meta\">\r\n    <UserMeta\r\n      text=\"Posts\"\r\n      type=\"posts\"\r\n      data={messageCount}\r\n      username={username}\r\n      classDefine=\"user-meta-item\"\r\n    />\r\n    <UserMeta\r\n      type=\"followers\"\r\n      text=\"Followers\"\r\n      data={followerCount}\r\n      classDefine=\"user-meta-item meta-mid\"\r\n      username={username}\r\n    />\r\n    <UserMeta\r\n      type=\"following\"\r\n      text=\"Following\"\r\n      data={followingCount}\r\n      classDefine=\"user-meta-item\"\r\n      username={username}\r\n    />\r\n  </div>)\r\n}\r\n\r\nUserMetaGroup.propTypes = {\r\n  messageCount: PropTypes.number,\r\n  followerCount: PropTypes.number,\r\n  followingCount: PropTypes.number,\r\n  username: PropTypes.string\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./UserSmall.css\";\r\nimport {UserMetaGroup} from \"./UserMetaGroup\";\r\nimport FollowButton from \"../../common/FollowButton\";\r\nimport ProfileImg from \"../../common/ProfileImg\";\r\nimport ListUsers from \"../../common/ListUsers\";\r\nimport classNames from \"classnames\";\r\nimport {connect} from \"react-redux\";\r\n\r\n//User profile area on the left of the main timeline\r\n//adapts to the url following a fetch request\r\n//Has automatic updating of the follow button and can distinguish current user (to display a edit profile button)\r\nconst UserSmall = ({currentUser, profile, ui, isMobile}) => {\r\n  if(!currentUser && !profile.user.username){\r\n    return(\r\n      <div className = \"user-profile-container\" >\r\n      <div className = \"user-profile-small\" >\r\n        <ProfileImg\r\n          loading={profile.loading}\r\n        />\r\n        <div className=\"user-follow\">\r\n        <p style={{color:\"gray\", fontSize:\"0.9rem\", padding:\"0 0 0 3px\", textAlign:\"center\", margin:\"15px 0\"}}> Please <a href=\"/signin\">Login</a> or <a href=\"/signup\"> Sign up! </a>  </p>\r\n        </div>\r\n       </div>\r\n      </div>\r\n      );\r\n  }\r\n  if(profile.loading || !profile.user.username){\r\n    return(\r\n        <div className = \"user-profile-container\" >\r\n      <div className = \"user-profile-small\" >\r\n        <ProfileImg\r\n          loading={profile.loading}\r\n        />\r\n        <div className=\"user-follow\">\r\n        <p style={{color:\"gray\", fontSize:\"0.9rem\", padding:\"0 0 0 3px\", textAlign:\"right\", margin:\"0 0 5px 50px\"}}> Loading  </p>\r\n\r\n        </div>\r\n       </div>\r\n      </div>\r\n      );\r\n   }\r\n    let {username, following, profileImgUrl, profileColor, description, displayName} = profile.user;\r\n\r\n    return(\r\n      <div className = \"user-profile-container \" >\r\n        <div className = \"user-profile-small\" >\r\n          <ProfileImg\r\n            username={username}\r\n            profileImg= {profileImgUrl}\r\n            profileColor={profileColor}\r\n            loading={false}\r\n          />\r\n          <div className=\"user-follow\">\r\n          <p className=\"user-profile-username\" style={{color:\"gray\", fontSize:\"0.9rem\", padding:\"0 0 0 3px\", textAlign:\"right\", margin:\"0 0 5px\"}}> @{username}  </p>\r\n            <h3 className=\"user-profile-display-name\" style={{borderBottom: `2px solid ${profileColor}`, margin: \"0\"}}>{displayName}</h3>\r\n            <p className={classNames({\"profile-description\": true,  \"hidden\": (ui.display && !isMobile)})}>{description}</p>\r\n            <FollowButton username={username} current={currentUser} followType={[username]} following={following} />\r\n          </div>\r\n          <UserMetaGroup\r\n            profile={profile.user}\r\n            username={username}\r\n          />\r\n        </div>\r\n         {ui.display && <ListUsers type=\"follow\" /> }\r\n      </div>\r\n    )\r\n};\r\n\r\nUserSmall.propTypes ={\r\n  ui: PropTypes.object,\r\n  profile: PropTypes.object,\r\n  isMobile: PropTypes.bool,\r\n  currentUser: PropTypes.string,\r\n\r\n}\r\nfunction mapStateToProps(state){\r\n  return {\r\n    ui: state.ui.follow,\r\n    // profile: state.profile,\r\n    currentUser:state.myProfile.auth.username,\r\n    isMobile: state.ui.isMobile\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(UserSmall);\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport {retry} from \"../store/actions/userProfile\"\r\nimport {popupHide} from \"../store/actions/errors\";\r\nimport classNames from \"classnames\";\r\n//Basic error handling - pops up when API returns an error\r\nconst Popup = (props) => {\r\n  return(\r\n    <div className={classNames({\"bottom-popup\": true, \"bottom-popup-show\": (props.error.popup), \"error-dialog\": props.errorBool, \"info-dialog\": props.infoBool})}>\r\n      {props.children}\r\n    </div>\r\n  )\r\n}\r\nexport const PopupDialog = (props)=>{\r\n  let errorBool = (props.error.method === \"error\");\r\n  let infoBool = (props.error.method === \"info\");\r\n  return(\r\n    <Popup error={props.error} errorBool={errorBool} infoBool={infoBool}>\r\n      <p>{errorBool &&  `${props.error.code} Error.`} </p>\r\n      <p> {props.error.message}</p>\r\n      {props.error.text === \"Retry?\" && <p className=\"error-btn\" onClick={() => props.retry(props.error.func, props.error.args)}> {props.error.text} </p>}\r\n      {props.error.text === \"Go Back\" &&<p className=\"error-btn\" onClick={() => props.goBack()}> {props.error.text} </p>}\r\n      {props.error.text === \"Close\" &&<p className=\"error-btn\" onClick={props.popupHide}> {props.error.text} </p>}\r\n    </Popup>\r\n  )\r\n}\r\n\r\nPopupDialog.propTypes = {\r\n  error: PropTypes.object\r\n}\r\n\r\nfunction mapStateToProps(state){\r\n  return {\r\n    error: state.errors,\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, {retry, popupHide})(PopupDialog)\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport ProfileImg from \"../../common/ProfileImg\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {getDiscoverUsers} from \"../../store/actions/userProfile\";\r\nimport {connect} from \"react-redux\";\r\n\r\nconst DiscoverUser = props => {\r\n    // props.getDiscoverUsers();\r\n  const users = props.discover.map(user => {\r\n    return <DiscoverUserIndividual key={`discover-${user.username}`} user={user}/>\r\n  })\r\n  return(\r\n    <div className=\"discover-follow\">\r\n      <div className=\"discover-titles\">People you may know </div>\r\n      <div className=\"discover-follow-list\">\r\n        {users}\r\n      </div>\r\n  </div>\r\n  )\r\n}\r\nDiscoverUser.propTypes ={\r\n  discover: PropTypes.array\r\n}\r\n\r\nconst DiscoverUserIndividual = ({user}) => {\r\n  return(\r\n    <div className=\"discover-icons\">\r\n      <ProfileImg\r\n        username={user.username}\r\n        profileImg= {user.profileImgUrl}\r\n        profileColor={user.profileColor}\r\n        loading={false}\r\n      />\r\n      <div className=\"discover-username\">\r\n            <Link to={`/u/${user.username}`}><span  style={{color:user.profileColor, textAlign: \"left\", fontSize:\"0.7rem\", padding:\"0 0 0 3px\"}}> @{user.username}  </span></Link>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nDiscoverUserIndividual.propTypes = {\r\n    user: PropTypes.object\r\n}\r\n\r\n\r\nfunction mapStateToProps(state){\r\n  return {\r\n    discover: state.discover.users,\r\n\r\n  };\r\n}\r\nexport default connect(mapStateToProps, {getDiscoverUsers})(DiscoverUser)\r\n","import React from \"react\";\r\nimport DiscoverUser from \"./DiscoverUser\";\r\nimport \"./Discover.css\";\r\n\r\nconst Discover = (props) => {\r\n\r\n  return (\r\n    <div className=\"discover-box\">\r\n      <h3> Discover</h3>\r\n      <div>\r\n        <DiscoverUser {...props} />\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Discover\r\n","import React, {Component} from \"react\";\r\nimport MessageList from \"../Messages/MessageList\";\r\nimport UserSmall from \"../LeftSideBar/UserSmall\";\r\nimport {getUserProfile, followUser, getDiscoverUsers} from \"../../store/actions/userProfile\";\r\nimport { updateMessages } from \"../../store/actions/messages\";\r\nimport {clearAllPopUps, resizeFunction, setContext} from \"../../store/actions/UI\";\r\nimport LoaderIcon from \"../../common/Loader\";\r\nimport { withRouter} from \"react-router-dom\";\r\nimport {connect } from \"react-redux\";\r\nimport PopupDialog from \"../../common/error\";\r\nimport Discover from \"../RightSideBar/Discover\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass Timeline extends Component{\r\n  constructor(props) {\r\n    super(props);\r\n    this.getUserProfile = this.props.getUserProfile.bind(this)\r\n    this.updateMessages = this.props.updateMessages.bind(this)\r\n    this.handleBottom = this.handleBottom.bind(this);\r\n  }\r\n  urlData = this.props.match;\r\n  paramsID = this.urlData.params.id;\r\n  handleBottom = () => {\r\n    let method = this.paramsID ? this.paramsID : \"\"\r\n    let lastMessage = this.props.state[this.props.page].messages.data[this.props.state[this.props.page].messages.data.length -1]\r\n    console.log(lastMessage)\r\n    this.updateMessages(method, lastMessage._id);\r\n  }\r\n  componentWillMount(){\r\n    window.addEventListener(\"resize\", () => (this.props.resizeFunction(window.innerWidth)))\r\n    this.props.setContext(this.props.page)\r\n  }\r\n  componentDidMount(){\r\n    this.getUserProfile(this.props.fetcher);\r\n      this.props.getDiscoverUsers();\r\n  }\r\n  componentWillUnmount(){\r\n    window.removeEventListener(\"resize\", this.handleResize)\r\n    // clearInterval(this.refreshInterval);\r\n  }\r\n  render(){\r\n    const { discover, loadingBool, page, currentUser} = this.props;\r\n    const {url} = this.urlData;\r\n\r\n    let messages = this.props.state[page].messages;\r\n    let profile = this.props.state[page].profile;\r\n    if((this.props.isMobile) && (this.props.page === \"dashboard\")){\r\n      return     (<div className=\"timeline-container\">\r\n            {loadingBool && <Loading isMobile={this.props.isMobile}/> }\r\n              <MessageList\r\n                key={`messages ${url}`}\r\n                messages = {messages}\r\n                bottomClick={this.handleBottom}\r\n              />\r\n              <PopupDialog goBack={this.props.history.goBack}/>{/* This will later become a general popup dialog, not just errors*/}\r\n\r\n            </div>)\r\n    }\r\n      return(\r\n        <div className=\"timeline-container\">\r\n          {loadingBool && <Loading isMobile={this.props.isMobile} /> }\r\n          {currentUser && <UserSmall\r\n            key={`user ${this.props.state[page].username}`}\r\n            profile={profile}\r\n\r\n          /> }\r\n          <MessageList\r\n            key={`messages ${url}`}\r\n            bottomClick={this.handleBottom}\r\n            messages={messages}\r\n          />\r\n          <PopupDialog goBack={this.props.history.goBack}/>{/* This will later become a general popup dialog, not just errors*/}\r\n\r\n          {(!this.props.isMobile &&  currentUser.isLoggedIn) &&<Discover users={discover.users}/>}\r\n          </div>\r\n      );\r\n  }\r\n}\r\n\r\nTimeline.propTypes = {\r\n  profile: PropTypes.object,\r\n  messages: PropTypes.object,\r\n  currentUser: PropTypes.object,\r\n  errors: PropTypes.object,\r\n  discover: PropTypes.object,\r\n  loadingBool: PropTypes.bool,\r\n  isMobile: PropTypes.bool,\r\n  getUserProfile: PropTypes.func,\r\n  followUser: PropTypes.func,\r\n  updateMessages: PropTypes.func,\r\n  clearAllPopUps: PropTypes.func,\r\n  resizeFunction: PropTypes.func\r\n}\r\nconst Loading = (props) => {\r\n  return(\r\n    <div className=\"loading\" style={{background: props.isMobile ? \"#fdfdfd\" : \"#fdfdfdcc\"}}>\r\n      <LoaderIcon />\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction mapStateToProps(state){\r\n  return {\r\n    profile: state.userProfile,\r\n    messages:state.messages,\r\n    currentUser: state.myProfile.auth,\r\n    discover: state.discover,\r\n    loadingBool: state.ui.loading,\r\n    isMobile: state.ui.isMobile,\r\n    state: state\r\n  };\r\n}\r\nexport default withRouter(connect(mapStateToProps, {getUserProfile, followUser, updateMessages, getDiscoverUsers, clearAllPopUps, resizeFunction, setContext})(Timeline));\r\n\r\n\r\n//Currently disabled refreshInterval, aim to replace with socket io (pushdata)\r\n              // this.refreshInterval = setInterval(()=> {\r\n              //   this.returnFetch();\r\n              // }, 300000);\r\n","import React from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport Timeline from \"./home/Timeline\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {setContext} from \"../store/actions/UI\";\r\nimport classNames from \"classnames\";\r\nimport {connect} from \"react-redux\";\r\n\r\nconst BodyContainer = (props) => {\r\n  let user = {\r\n    dashboard: null,\r\n    profile: props.match.params.id,\r\n    myProfile: props.currentUser.username\r\n  }\r\n\r\n  return(\r\n      <div className={classNames({\"body-container\": true, \"animation-test\": props.profileHide})}>\r\n        <Timeline\r\n          key={`timeline:${props.match.url}`}\r\n          page={props.page}\r\n          fetcher={user[props.page]}\r\n          />\r\n\r\n      </div>\r\n    )\r\n};\r\n\r\nBodyContainer.propTypes = {\r\n  currentUser: PropTypes.object,\r\n  errors: PropTypes.object,\r\n  isMobile: PropTypes.bool\r\n}\r\n\r\nfunction mapStateToProps(state){\r\n  return {\r\n    currentUser: state.myProfile.auth,\r\n    errors: state.errors,\r\n    isMobile: state.ui.isMobile,\r\n    context: state.ui.context,\r\n    profileHide: state.animate.profileHide,\r\n    loading: state.ui.isLoading\r\n  };\r\n}\r\nexport default withRouter(connect(mapStateToProps, {setContext})(BodyContainer));\r\n","import React from \"react\";\r\nimport classNames from \"classnames\";\r\nimport FontAwesome from \"react-fontawesome\";\r\nexport const Tab = (props) => {\r\n\r\n  return(\r\n      <div className={classNames({\"tab\": true, \"hidden\": props.id!==props.page})}  >\r\n        {props.children}\r\n      </div>\r\n\r\n  )\r\n}\r\n\r\nexport const TabNav = props =>{\r\n  const pageSelector = (page) =>{\r\n    props.history.push(`/${page}`)\r\n  }\r\nif(props.isMobile){\r\n  return(\r\n    <div className=\"tab-nav\">\r\n      <div className={classNames({\"tab-item\": true, \"icon-current\": (props.context === \"dashboard\" || props.context ===  \"profile\") && ((props.history.location.pathname === \"/\"))})} onClick = {()=> pageSelector(\"\")}>\r\n          <FontAwesome name='home' className=\"icon\"  />\r\n      </div>\r\n      <div className={classNames({\"tab-item\": true, \"icon-current\": props.history.location.pathname === \"/new\"})} onClick = {()=> pageSelector(\"new\")}>\r\n          <FontAwesome name='pencil-alt' className=\"icon\"  />\r\n      </div>\r\n      <div className={classNames({\"tab-item\": true, \"icon-current\": props.history.location.pathname === \"/discover\" })} onClick = {()=> pageSelector(\"discover\")}>\r\n          <FontAwesome name='dice' className=\"icon\"  />\r\n      </div>\r\n      <div className={classNames({\"tab-item\": true, \"icon-current\": (props.context === `myProfile`) && (props.history.location.pathname === \"/myprofile\")})} onClick = {()=> pageSelector(\"myprofile\")}>\r\n          <FontAwesome name='user' className=\"icon\"  />\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n}else{\r\n  return null\r\n}\r\n\r\n}\r\nexport default TabNav;\r\n","import React from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport {NavLink } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\"\r\nimport {animateProfile} from \"../store/actions/animate\";\r\nimport classNames from \"classnames\";\r\nimport {Logo, BackIcon} from \"../common/logo.js\";\r\nimport {showNewMessage, sidebarShow} from \"../store/actions/UI\";\r\nimport FontAwesome from \"react-fontawesome\";\r\nimport \"./Navbar.css\";\r\nconst Navbar = (props) => {\r\n  function handlePopUpShow(){\r\n    let obj = {\r\n      method: \"postMessage\",\r\n    }\r\n    if(props.location.pathname !== \"/\"){\r\n      props.history.push(\"/\")\r\n      setTimeout(() => props.showNewMessage(obj), 200)\r\n    }\r\n    props.showNewMessage(obj)\r\n  }\r\n\r\n  const {history, currentUser, context } = props;\r\n  const handleLogoClick = () => {\r\n    window.scrollTo({\r\n      top:0,\r\n      behavior: \"smooth\"\r\n    })\r\n    !currentUser && props.history.push(\"/\")\r\n  }\r\n  const handleHamburger = () => {\r\n    props.sidebarShow()\r\n  }\r\n  const handleBack = () => {\r\n    props.animateProfile()\r\n    setTimeout(history.goBack, 300)\r\n    setTimeout(props.animateProfile, 300)\r\n  }\r\n  if(props.isMobile){\r\n    return (<nav>\r\n      <div className={classNames({\"hamburger\": true, \"shift-hamburger\": (context === \"profile\")})} onClick={handleHamburger} > <div className=\"hamburger-line\"></div></div>\r\n      <div onClick={handleLogoClick}  className=\"nav-logo\" ><Logo  /> </div>\r\n        {((context === \"profile\"))  && <div className={classNames({\"back-button\": true, \"transition\": true, \"no-opacity\": props.profileHide})} onClick={handleBack }> <div className={classNames({\"back-icon\": true, \"transition\": true, \"no-opacity\": props.profileHide})}><BackIcon /> </div> </div>}\r\n        {((context === \"profile\") ) && <div  className={classNames({\"profile-user-nav\": true, \"transition\": true, \"no-opacity\": props.profileHide})}> {!props.isLoading && props.profile.username} </div>}\r\n      </nav>\r\n    )\r\n  }\r\n  return(\r\n      <nav>\r\n       <div className=\"hamburger\" onClick={handleHamburger} > <div className=\"hamburger-line\"></div></div>\r\n         <div onClick={() => props.history.push(\"/\")} className=\"nav-logo\"> <Logo  /> </div>\r\n        {/*<NavLink to=\"/\"  className=\"site-logo\" ><li>Morikin</li></NavLink> */}\r\n        {currentUser.isLoggedIn && <button  onClick={handlePopUpShow} className=\"nav-new-message\"><span > New Post </span><FontAwesome name='pencil-alt' className=\"nav-icon\"  />  </button> }\r\n        <NavLink  to={`/myprofile`} className=\"nav-username\"> <li >{currentUser.username} </li></NavLink>\r\n      {!currentUser.isLoggedIn &&  <a  href={`/signin`} className=\"nav-signin\"> <li >Sign in</li></a>}\r\n      {!currentUser.isLoggedIn &&  <a  href={`/signup`} className=\"nav-signup\"> <li >Sign up</li></a>}\r\n      </nav>\r\n    );\r\n}\r\nNavbar.propTypes= {\r\n  currentUser: PropTypes.object,\r\n  isMobile: PropTypes.bool,\r\n  logout: PropTypes.func,\r\n  showNewMessage: PropTypes.func,\r\n\r\n\r\n}\r\n\r\nfunction mapStateToProps(state){\r\n  return {\r\n    currentUser: state.myProfile.auth,\r\n    isMobile: state.ui.isMobile,\r\n    context: state.ui.context,\r\n    profile: state.profile.profile.user,\r\n    isLoading: state.ui.isLoading\r\n  };\r\n}\r\nexport default connect(mapStateToProps, { showNewMessage, animateProfile, sidebarShow})(Navbar);\r\n","import { ANIMATE_PROFILE  }  from \"../actionTypes\";\r\n//Alter the animations of each container using this\r\n//Takes no arguments as each action changes the state entirely with a truthy\r\n//This is prototypical so will likely be altered in the future to make a single action type\r\n\r\nexport const animateProfile = () => ({\r\n  type: ANIMATE_PROFILE\r\n})\r\n","import React, {Component} from \"react\";\r\nimport classNames from \"classnames\";\r\nimport \"./InputField.css\";\r\nimport PropTypes from \"prop-types\";\r\nclass Input extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state={\r\n      active: false, //Bottom bar animation - only when active\r\n      placeholderFloat: false, //Animation of the placeholder - Also when field !empty\r\n      error: false,\r\n      name: this.props.name\r\n    }\r\n    this.placeHolderMovement = this.placeHolderMovement.bind(this)\r\n  }\r\n  handleChange = e =>{\r\n      this.props.onChange(this.state.name, e.target.value)\r\n  }\r\n  componentWillMount(){\r\n    this.setState({\r\n      placeholderFloat: this.placeHolderMovement()\r\n    })\r\n  }\r\n  //Checks the status of the input, if there is a value it will move up to clarify input field\r\n  placeHolderMovement = () => {\r\n    if(this.props.value && this.props.value.length > 0){\r\n      return true;\r\n    }else{\r\n      return false;\r\n    }\r\n  }\r\n//On focus the placeholder will move upwards (permanent) and a green active bar will fill underneath (during focus)\r\n  handleFocus = e=>{\r\n    e.preventDefault();\r\n    this.setState({\r\n      active:true,\r\n      placeholderFloat:true,\r\n      error: false\r\n    })\r\n  }\r\n\r\n  //If the field is required and unfocused it will give a red highlight and state the field is required\r\n  requirementTest = () =>{\r\n    if(this.props.value < 1 && this.props.isRequired){\r\n      this.setState({\r\n        error:true\r\n      })}else{\r\n        this.setState({\r\n          error:false\r\n        })\r\n      }\r\n  }\r\n  //Leaving the field will remove the green active bar\r\n  handleBlur = e =>{\r\n    e.preventDefault();\r\n    this.setState({\r\n      active:false\r\n    })\r\n    this.requirementTest();\r\n  }\r\n\r\n  render(){\r\n    let {type, name, placeholder, options} = this.props;\r\n    //May alter this to accept other types of input (textarea/dropdown etc)\r\n    const inputField = () =>{\r\n\r\n        if(type ===\"dropdown\"){\r\n          return(\r\n          <div className=\"input-container\">\r\n                <p\r\n                  className={classNames({\r\n                              \"input-placeholder\":true,\r\n                              \"input-placeholder-active\":true,\r\n                              \"input-placeholder-default\": !this.state.placeholderFloat,\r\n                              \"input-placeholder-error\": this.state.error\r\n                            })}>\r\n                    {placeholder}\r\n                </p>\r\n                <select\r\n                  className={classNames({\"input-box\": true, \"input-error\": this.state.error})}\r\n                  style={this.state.error ? {boxShadow: \"0 2px 0px 0px #FF0000\"} : {boxShadow: \"0 1px 0px 0px gray\"}}\r\n                  type={type}\r\n                  name={name}\r\n                  placeholder=\"\"\r\n                  value={this.props.value}\r\n                  onFocus={this.handleFocus}\r\n                  onBlur={this.handleBlur}\r\n                  onChange={this.handleChange}\r\n                  autoFocus={this.props.autoFocus}\r\n                >\r\n                {options.map(name => <option key={name}  value={name} > {name} </option>)}\r\n                </select>\r\n                <div style={{background: this.props.color}} className={classNames({\"input-hr-holder\":true, \"input-hr-holder-active\":true})}>\r\n                <hr\r\n                  className={classNames({\"input-hr\":true, \"hr-active\":false})}\r\n                />\r\n                </div>\r\n              </div>)\r\n    }\r\n\r\n      return(<div className=\"input-container\">\r\n            <p\r\n              className={classNames({\r\n                          \"input-placeholder\":true,\r\n                          \"input-placeholder-active\":this.state.placeholderFloat,\r\n                          \"input-placeholder-default\": !this.state.placeholderFloat,\r\n                          \"input-placeholder-error\": this.state.error\r\n                        })}>\r\n                {placeholder} {this.state.error && <span> is required </span>}\r\n            </p>\r\n            <input\r\n              className={classNames({\"input-box\": true, \"input-error\": this.state.error})}\r\n              style={this.state.error ? {boxShadow: \"0 2px 0px 0px #FF0000\"} : {boxShadow: \"0 1px 0px 0px gray\"}}\r\n              type={type}\r\n              name={name}\r\n              placeholder=\"\"\r\n              value={this.props.value}\r\n              onFocus={this.handleFocus}\r\n              onBlur={this.handleBlur}\r\n              onChange={this.handleChange}\r\n              autoFocus={this.props.autoFocus}\r\n            />\r\n            <div className={classNames({\"input-hr-holder\":true, \"input-hr-holder-active\":this.state.active})}>\r\n            <hr\r\n              className={classNames({\"input-hr\":true, \"hr-active\":this.state.active})}\r\n            />\r\n            </div>\r\n          </div>\r\n        )\r\n\r\n      }\r\n    return(\r\n      inputField()\r\n    )\r\n  }\r\n}\r\n\r\nInput.propTypes = {\r\n    value: PropTypes.string,\r\n    type: PropTypes.string,\r\n    name: PropTypes.string,\r\n    placeholder: PropTypes.string,\r\n    isRequired: PropTypes.bool\r\n}\r\nexport default Input;\r\n","import React, {Component} from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {connect } from \"react-redux\";\r\nimport {editProfile} from \"../../store/actions/userProfile\";\r\nimport {sidebarHide} from \"../../store/actions/UI\";\r\nimport \"./EditProfile.css\";\r\nimport Input from \"../../common/InputField\";\r\nclass EditProfile extends Component{\r\n  constructor(props){\r\n    super(props)\r\n    let {user} = this.props;\r\n    //Decided to fill with default values of information already present - password is exempt from this\r\n    //TODO handle password change, make it a separate entity\r\n    this.state = {username: user.username || \"\",\r\n                  email: user.email || \"\",\r\n                  profileImgUrl: user.profileImgUrl|| \"\",\r\n                  displayName: user.displayName || \"\",\r\n                  passwordOne: \"\",\r\n                  passwordTwo:\"\",\r\n                  profileColor: user.profileColor || \"\",\r\n                  description: user.description || \"\"\r\n                };\r\n    this.handlePageChange = this.handlePageChange.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n  handleChange = (name, value) =>{\r\n    this.setState({\r\n        [name]: value\r\n    });\r\n  }\r\n  handleSubmit = e =>{\r\n    e.preventDefault();\r\n    this.props.editProfile(this.state, this.redirect)\r\n  }\r\n  redirect = () => {\r\n    this.props.sidebarHide()\r\n    this.props.history.push(\"/\")\r\n  }\r\n  handleFocus = e=>{\r\n    e.preventDefault();\r\n  }\r\n  handlePageChange = page => {\r\n    this.setState({\r\n      page: page\r\n    })\r\n  }\r\n  title = () => {\r\n    switch(this.props.editPage){\r\n      case \"info\":\r\n        return \"Edit your Personal Information\"\r\n      case \"customisation\":\r\n        return \"Make your profile yours\"\r\n      case \"security\":\r\n        return \"Want to change your email address?\"\r\n      case \"password\":\r\n        return \"Change your password\"\r\n      default:\r\n        return \"Edit profile\"\r\n  }\r\n}\r\n  //TODO redesign/alter this\r\n  render(){\r\n    const {username, email, displayName,  profileImgUrl, profileColor, description, passwordOne, passwordTwo} = this.state;\r\n    const {errors, editPage} = this.props;\r\n    return(<div className=\"fullscreen\">\r\n    <h3> {this.title()} </h3>\r\n      <div className=\"fullscreen\"  onClick ={() => {this.redirect() } }></div>\r\n      <form\r\n      className=\"edit-profile-form\"\r\n        onSubmit = {this.handleSubmit}\r\n        >\r\n        {errors.message && (<div> {errors.message} </div>) }\r\n        {editPage === \"info\" &&<Input\r\n          type=\"text\"\r\n          name=\"username\"\r\n          placeholder=\"Username\"\r\n          value={username}\r\n          onChange={this.handleChange}\r\n        />}\r\n          {editPage === \"customisation\" &&<Input\r\n          type=\"text\"\r\n          name=\"displayName\"\r\n          placeholder=\"Display Name\"\r\n          value={displayName}\r\n          onChange={this.handleChange}\r\n        />\r\n      }\r\n          {editPage === \"info\" &&<Input\r\n              type=\"text\"\r\n              name=\"description\"\r\n              placeholder=\"Profile Description\"\r\n              value={description}\r\n              onChange={this.handleChange}\r\n          />\r\n        }\r\n          {editPage === \"security\" &&<Input\r\n          type=\"text\"\r\n          name=\"email\"\r\n          placeholder=\"Email Address\"\r\n          value={email}\r\n          onChange={this.handleChange}\r\n        />\r\n      }\r\n\r\n          {editPage === \"password\" &&<Input\r\n          type=\"password\"\r\n          name=\"passwordOne\"\r\n          placeholder=\"Password\"\r\n          value={passwordOne}\r\n          onChange={this.handleChange}\r\n        />}\r\n          {editPage === \"password\" && <Input\r\n          type=\"password\"\r\n          name=\"passwordTwo\"\r\n          placeholder=\"Repeat your password\"\r\n          value={passwordTwo}\r\n          onChange={this.handleChange}\r\n        />\r\n      }\r\n\r\n          {editPage === \"customisation\" && <Input\r\n          type=\"text\"\r\n          name=\"profileImgUrl\"\r\n          placeholder=\"URL of your Profile Image\"\r\n          value={profileImgUrl}\r\n          onChange={this.handleChange}\r\n        />\r\n        }\r\n\r\n        {editPage === \"customisation\" &&  <Input\r\n          type=\"dropdown\"\r\n          options={[\"Teal\", \"Olive\", \"Purple\", \"Green\", \"Orange\"]}\r\n          color={this.state.profileColor}\r\n          name=\"profileColor\"\r\n          placeholder=\"Profile Color\"\r\n          value={profileColor}\r\n          onChange={this.handleChange}\r\n        />\r\n      }\r\n        <button className=\"submit-button\"> submit  </button>\r\n      </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\nEditProfile.propTypes = {\r\n  user: PropTypes.object,\r\n  isLoggedIn: PropTypes.bool,\r\n  errors: PropTypes.object,\r\n  editProfile: PropTypes.func\r\n\r\n}\r\n\r\n\r\nfunction mapStateToProps(state){\r\n  return {\r\n    user: state.myProfile.auth,\r\n    isLoggedIn: state.myProfile.auth.isLoggedIn,\r\n    errors: state.errors,\r\n    editPage: state.ui.editProfilePage\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, {editProfile, sidebarHide})(EditProfile);\r\n","import React, {Component} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {getDiscoverUsers} from \"../store/actions/userProfile\";\r\n\r\n\r\n//hoc to clarify if the user is logged in, redirects if otherwise\r\n//Unfortunately I have a tendency to not use this\r\n//TODO use this.\r\n\r\nexport default function withAuth(ComponentAuth){\r\n\r\n  class Authenticate extends Component {\r\n    componentWillMount(){\r\n      if(!this.props.isAuthenticated){\r\n        this.props.history.push(\"/signin\");\r\n      }\r\n    }\r\n    componentWillUpdate(){\r\n      if(!this.props.isAuthenticated){\r\n        this.props.history.push(\"/signin\");\r\n      }\r\n    }\r\n    render(){\r\n      return <ComponentAuth {...this.props} />\r\n    }\r\n  }\r\n\r\n\r\nfunction mapStateToProps(state){\r\n  return{\r\n    isAuthenticated: state.myProfile.auth.isLoggedIn\r\n  }\r\n}\r\n\r\n\r\n\r\n  return connect(mapStateToProps)(Authenticate);\r\n}\r\n\r\nexport function apiHOC(ComponentRender){\r\n  class ApiCaller extends Component{\r\n    componentDidMount(){\r\n      this.props.getDiscoverUsers();\r\n    }\r\n  render(){\r\n    return <ComponentRender {...this.props} />\r\n  }\r\n  }\r\n\r\n\r\n  return connect(null, {getDiscoverUsers})(ApiCaller);\r\n}\r\n","import React, {Component} from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./Auth.css\"\r\nimport Input from \"../../common/InputField\";\r\nimport {Button} from \"../../common/Button\";\r\nimport { removeError, addError } from \"../../store/actions/errors\";\r\nimport {connect} from \"react-redux\";\r\nclass AuthForm extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {username: \"\",\r\n                  password: \"\",\r\n                  repeatPassword: \"\",\r\n                  profileImgUrl: \"\",\r\n                  loading: false,\r\n                  };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n  //Every change takes the name of the field and applies that to the current state\r\n  // Using this rather than an event event.target.name due to the custom Input field\r\n  handleChange = (name, value) =>{\r\n    this.setState({\r\n        [name]: value\r\n    });\r\n    this.props.removeError();\r\n  }\r\n  handleSubmit = e =>{\r\n    e.preventDefault();\r\n    // this.props.history.push(\"/\")\r\n    this.props.removeError();\r\n    //Clarify type of API call to be used through props to simplify the API call in store/actions\r\n    const authType = this.props.signUp ? \"signup\" : \"signin\";\r\n    if(this.props.signUp && (this.state.password !== this.state.repeatPassword)){\r\n      this.props.addError({statusText: \"The passwords do not match!\"})\r\n    }else{\r\n      this.props.onAuth(authType, this.state)\r\n      this.setState({\r\n        password: \"\",\r\n        repeatPassword: \"\",\r\n        profileImgUrl: \"\",\r\n      });\r\n\r\n    }\r\n  }\r\n  componentWillMount(){\r\n    if(this.props.errors.message){\r\n      this.setState({\r\n        loading: false\r\n      })\r\n    }\r\n  }\r\n  componentWillUnmount(){\r\n    this.props.history.push(\"/\")\r\n  }\r\nrender(){\r\n    const {username, password, profileImgUrl, repeatPassword} = this.state;\r\n    const {heading, buttonText, signUp,  errors, loading, isMobile } = this.props;\r\n    const form = (<div className=\"login-form-container\"><p className=\"title\">{errors.message ? (<span className=\"login-error\">{errors.message}</span>) : heading }</p>\r\n\r\n    <form\r\n    className=\"login-form\"\r\n      onSubmit = {this.handleSubmit}\r\n      >\r\n      <Input\r\n        ref=\"username\"\r\n        type=\"text\"\r\n        name=\"username\"\r\n        placeholder=\"Username\"\r\n        value={username}\r\n        onChange={this.handleChange}\r\n        isRequired={true}\r\n        autoFocus = {!isMobile}\r\n        autocomplete=\"off\"\r\n      />\r\n      <Input\r\n        type=\"password\"\r\n        name=\"password\"\r\n        placeholder=\"Password\"\r\n        value={password}\r\n        isRequired={true}\r\n        onChange={this.handleChange}\r\n\r\n      />\r\n      {signUp &&(\r\n        <Input\r\n          type=\"password\"\r\n          name=\"repeatPassword\"\r\n          placeholder=\"Repeat your Password\"\r\n          value={repeatPassword}\r\n          isRequired={true}\r\n          onChange={this.handleChange}\r\n        />\r\n      )\r\n\r\n      }\r\n      {/*signUp && (\r\n        <Input\r\n          type=\"text\"\r\n          name=\"email\"\r\n          placeholder=\"Email Address (optional)\"\r\n          value={email}\r\n          onChange={this.handleChange}\r\n        /> )*/}\r\n      {signUp && (\r\n        <Input\r\n          type=\"text\"\r\n          name=\"profileImgUrl\"\r\n          placeholder=\"Url of your Profile Picture (optional)\"\r\n          value={profileImgUrl}\r\n          onChange={this.handleChange}\r\n        />\r\n      )}\r\n      <Button\r\n        type=\"submit\"\r\n        text={buttonText}\r\n        loading={loading}>\r\n          {buttonText}\r\n     </Button>\r\n  </form></div>)\r\n    return(\r\n      form\r\n      );\r\n  }\r\n}\r\n\r\nAuthForm.propTypes = {\r\n  heading: PropTypes.string,\r\n  buttonText: PropTypes.string,\r\n  signUp: PropTypes.bool,\r\n  errors: PropTypes.object,\r\n}\r\n\r\nfunction mapStateToProps(state){\r\n  return {\r\n    errors: state.errors,\r\n    isLoggedIn: state.myProfile.auth.isLoggedIn,\r\n    loading: state.ui.loading,\r\n    isMobile: state.ui.isMobile\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, {removeError, addError})(AuthForm)\r\n","import {apiCall, setAuthToken } from \"../../services/api\";\r\nimport { SET_CURRENT_USER } from \"../actionTypes\";\r\nimport {addError, popupShow, popupButton, popupHide} from \"./errors\";\r\nimport {isLoading, isLoaded} from \"./UI\";\r\n\r\nexport function setCurrentUser(user){\r\n  return {\r\n    type: SET_CURRENT_USER,\r\n    user\r\n  };\r\n}\r\nexport function userLogout(){\r\n  return {\r\n    type: \"USER_LOGOUT\"\r\n  }\r\n}\r\nexport function setAuthorizationToken(token){\r\n  setAuthToken(token);\r\n}\r\n//Remove the token and authorisaiton from local storage and headers respecively\r\n//Sets current user to be empty, thus automatically logging out\r\nexport function logout(){\r\n  return dispatch =>{\r\n    localStorage.removeItem(\"jwtToken\");\r\n    setAuthorizationToken(false);\r\n    dispatch(userLogout());\r\n  };\r\n}\r\n\r\n//Logs in with a post request\r\n//when response is recieved, it animates away the login area and sets the token in local storage\r\n//from that, the animation is removed and state is updated\r\n//any errors that were present (incorrect password etc) are removed\r\nexport function authUser(type, userData){\r\n  return dispatch => {\r\n    return new Promise((resolve, reject) => {\r\n        dispatch(isLoading())\r\n      return apiCall(\"post\", `api/auth/${type}`, userData)\r\n        .then(({token, ...user}) => {\r\n          dispatch(isLoaded())\r\n          localStorage.setItem(\"jwtToken\", token)\r\n          return {token, ...user}\r\n          })\r\n          .then(({token, ...user}) => {\r\n            setTimeout(() => {\r\n              setAuthorizationToken(token);\r\n              dispatch(setCurrentUser(user));\r\n              dispatch(popupShow())\r\n              dispatch(addError({message: \"Welcome\"}, \"info\"));\r\n              dispatch(popupButton(\"Close\", popupHide))\r\n              resolve();\r\n            }, 500)\r\n        })\r\n        .catch(err => {\r\n          dispatch(addError(err));\r\n          dispatch(isLoaded())\r\n          reject();\r\n        });\r\n    });\r\n  };\r\n}\r\n","import React, {Component} from \"react\";\r\nimport AuthForm from \"../settings/AuthForm\";\r\nimport {connect } from \"react-redux\";\r\nimport {authUser } from \"../../store/actions/auth\";\r\nimport {removeError} from \"../../store/actions/errors\";\r\nimport \"./Landing.css\";\r\nimport PropTypes from \"prop-types\";\r\nimport styled from \"styled-components\";\r\n\r\n\r\nlet LoginDiv = styled.div`\r\nmin-width: ${props => props.isMobile? \"90%\": \"40%\"};\r\nmin-height: 40%;\r\nbackground: white;\r\nbox-shadow: 3px 2px 5px #00000080;\r\npadding: ${props => props.isMobile? \"3em 0.8em 1em\": \"1.2em\"} ;\r\nbox-sizing: content-box;\r\n\r\n`\r\nlet ContainerDiv = styled.div`\r\n  width: 100vw;\r\n  height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items:center;\r\n`\r\n\r\n\r\n\r\n\r\nclass LandingPage extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state={\r\n      page: \"signin\"\r\n    }\r\n  }\r\n   handleClick = (e) =>{\r\n      this.setState({\r\n        page: e\r\n      })\r\n      this.props.removeError();\r\n}\r\n  authThenRedirect = (...args) =>{\r\n    this.props.authUser(...args).then(()=>{\r\n    })\r\n  }\r\n  componentWillMount(){\r\n    if(this.props.locationState){\r\n      this.setState({\r\n        page: this.props.locationState\r\n      })\r\n    }\r\n    if(this.props.isLoggedIn){\r\n      this.props.history.push(\"/\")\r\n    }\r\n    setTimeout(() => window.scrollTo(0,0), 100 )\r\n  }\r\n  componentDidMount(){\r\n    // if(navigator.userAgent.match(/Android/i)){\r\n\r\n    // }\r\n  }\r\n  render(){\r\n    let {errors, isMobile} = this.props;\r\n\r\n  return(\r\n          <ContainerDiv  >\r\n            <LoginDiv isMobile={isMobile}>\r\n              {(this.props.locationState === \"signup\") &&   <AuthForm\r\n                  errors={errors}\r\n                  onAuth={this.authThenRedirect}\r\n                  signUp\r\n                  buttonText=\"Sign Up!\"\r\n                  heading=\"Join today!\"\r\n                  {...this.props}\r\n                />}\r\n                  {(this.props.locationState === \"signin\") && <AuthForm\r\n                    errors={errors}\r\n                    onAuth={this.authThenRedirect} {...this.props}\r\n                    buttonText=\"Log in\"\r\n                    heading=\"Welcome!\"\r\n                  />\r\n                }\r\n            </LoginDiv>\r\n          </ContainerDiv>\r\n  )\r\n}\r\n}\r\n\r\nLandingPage.propTypes = {\r\n  errors: PropTypes.object,\r\n  authUser: PropTypes.func\r\n}\r\nfunction mapStateToProps(state){\r\n  return {\r\n    errors: state.errors,\r\n    isLoggedIn: state.myProfile.auth.isLoggedIn\r\n  };\r\n}\r\nexport default connect(mapStateToProps, {authUser,  removeError})(LandingPage);\r\n\r\n\r\n    // <Switch>\r\n    //   <Route path = \"/\" render={props =>{\r\n    //     return(\r\n    //       <div className={classNames({\"landing-page\": true,\"login-form-show\":(this.state.page === \"signup\" || this.state.page===\"signin\")})}>\r\n    //         <div className=\"landing-logo\"  onClick= {() => this.setState({page: \"default\"})}>\r\n    //           <Logo color=\"#3e3e3e\"/>\r\n    //         </div>\r\n    //           <div className=\"top-left\" >\r\n    //           <div className=\"device white-box-style\">\r\n    //             {(this.state.page === \"signup\") &&   <AuthForm\r\n    //                 errors={errors}\r\n    //                 onAuth={this.authThenRedirect}\r\n    //                 signUp\r\n    //                 buttonText=\"Sign Up!\"\r\n    //                 heading=\"Join today!\"\r\n    //                 backAction={this.handleClick.bind(this, \"/\", \"back\")}\r\n    //                 {...props}\r\n    //               />}\r\n    //\r\n    //           {(this.state.page === \"signin\") && <AuthForm\r\n    //             errors={errors}\r\n    //             onAuth={this.authThenRedirect} {...props}\r\n    //             buttonText=\"Log in\"\r\n    //             heading=\"Welcome!\"\r\n    //             backAction={this.handleClick.bind(this, \"/\", \"back\")}\r\n    //           />\r\n    //         }\r\n    //\r\n    //         {(this.state.page === \"default\") &&  <img alt=\"\" src={require(\"../../images/morikin-sh.jpg\")} /> }\r\n    //           </div>\r\n    //           </div>\r\n    //           <div className=\"top-right\">\r\n    //             <h2>Welcome to Morikin </h2>\r\n    //             <p>Message. Share. Discover.</p>\r\n    //             <div className=\"landing-buttons\">\r\n    //               <button onClick={() => this.handleClick(\"signin\")} className={classNames({\"sign-in-btn\":true, \"auth-btn-active\": (this.state.page === \"signin\")})}>Sign In</button>\r\n    //               <button onClick={() => this.handleClick(\"signup\")} className={classNames({\"sign-up-btn\":true, \"auth-btn-active\": (this.state.page === \"signup\")})}>Sign Up</button>\r\n    //             </div>\r\n    //           </div>\r\n    //         <div className=\"bottom-content\">\r\n    //           <div className=\"bottom-item\">\r\n    //             <div className=\"icon-holder\">\r\n    //               <FontAwesome name='comment' className=\"icon landing-icon\"  />\r\n    //             </div>\r\n    //             <h4>Message </h4>\r\n    //           </div>\r\n    //           <div className=\"bottom-item\">\r\n    //           <div className=\"icon-holder\">\r\n    //           <FontAwesome name='users' className=\"icon landing-icon\"  />\r\n    //           </div>\r\n    //           <h4> Share </h4>\r\n    //           </div>\r\n    //           <div className=\"bottom-item\">\r\n    //           <div className=\"icon-holder\">\r\n    //           <FontAwesome name='dice' className=\"icon landing-icon\"  />\r\n    //           </div>\r\n    //           <h4> Discover </h4>\r\n    //           </div>\r\n    //         </div>\r\n    //       </div>\r\n    //     )\r\n    // }}\r\n    // />\r\n    // </Switch>\r\n\r\n\r\n\r\n\r\n/*\r\n<Route exact path = \"/signin\" render={props => {\r\n  return(\r\n    <AuthForm\r\n      errors={errors}\r\n      onAuth={authThenRedirect} {...props}\r\n      buttonText=\"Log in\"\r\n      heading=\"Welcome!\"\r\n      backAction={handleClick.bind(this, \"/\", \"back\")}\r\n    />\r\n  );\r\n}} />\r\n  <Route exact path = \"/signup\" render={props => {\r\n    return(\r\n      <AuthForm\r\n        errors={errors}\r\n        onAuth={authThenRedirect}\r\n        signUp\r\n        buttonText=\"Sign Up!\"\r\n        heading=\"Join today!\"\r\n        backAction={handleClick.bind(this, \"/\", \"back\")}\r\n        {...props}\r\n      />\r\n    );\r\n  }} />*/\r\n","import React, {Component} from \"react\";\r\nimport {connect } from \"react-redux\";\r\nimport {logout } from \"../../store/actions/auth\";\r\nimport {sidebarShow, sidebarHide, editProfilePageChange} from \"../../store/actions/UI\";\r\nimport classNames from \"classnames\";\r\nimport \"./sidebar.css\";\r\n\r\n\r\nclass Sidebar extends Component{\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {page: \"default\"};\r\n    this.handlePageChange = this.handlePageChange.bind(this);\r\n    this.handleSidebarHide = this.handleSidebarHide.bind(this);\r\n    this.setWrapperRef = this.setWrapperRef.bind(this);\r\n    this.handleClickOutisde = this.handleClickOutisde.bind(this);\r\n  }\r\n  handlePageChange = (page, url, close) => {\r\n    this.setState({\r\n      page: page\r\n    })\r\n    this.props.editProfilePageChange(page)\r\n    if((this.props.history.location.pathname !== url)){\r\n      this.props.history.push(url)\r\n    }\r\n    if(close){\r\n      this.handleSidebarHide()\r\n    }\r\n    if(this.props.isMobile){\r\n      this.props.sidebarHide();\r\n    }\r\n  }\r\n  handleSidebarHide =() => {\r\n    this.props.sidebarHide();\r\n    if(this.props.history.location.pathname === \"/editprofile\"){\r\n      this.props.history.push(\"/\")\r\n    }\r\n    this.setState({\r\n      page: \"default\"\r\n    })\r\n  }\r\n  componentDidMount(){\r\n    if(this.props.isMobile){\r\n\r\n      document.addEventListener(\"mousedown\", this.handleClickOutisde);\r\n    }\r\n  }\r\n  componentWillUnmount(){\r\n    if(this.props.isMobile){\r\n      document.removeEventListener(\"mousedown\", this.handleClickOutisde);\r\n    }\r\n  }\r\n  handleClickOutisde(e){\r\n    if(this.wrapperRef && !this.wrapperRef.contains(e.target)){\r\n      this.props.sidebarHide();\r\n\r\n    }\r\n  }\r\n  setWrapperRef = (node) =>{\r\n    this.wrapperRef = node;\r\n  }\r\n\r\n  render(){\r\n    let {sidebarVisibility, logout, currentUser} = this.props\r\n    let {page} = this.state\r\n  return(\r\n    <div ref={this.setWrapperRef} className={classNames({\"sidebar-main\": true, \"sidebar-show\": sidebarVisibility})} >\r\n      <div onClick={this.handleSidebarHide} className=\"exit-sidebar\">  </div>\r\n        <ul className=\"sidebar-menu\">\r\n          <li className={classNames({\"active\": (this.props.history.location.pathname === \"/\")})} onClick={()=> this.handlePageChange(\"default\", \"/\", true)}>Home</li>\r\n           { currentUser &&<li className={classNames({\"active\": (this.props.history.location.pathname === \"/myprofile\")})} onClick={()=> this.handlePageChange(\"info\", \"/myprofile\", true)}>My Profile</li>}\r\n          { currentUser &&<li className={classNames({\"active\": (this.props.history.location.pathname === \"/editprofile\") && (page === \"info\")})} onClick={()=> this.handlePageChange(\"info\", \"/editprofile\")}>Personal Info</li>}\r\n          { currentUser &&<li className={classNames({\"active\": (this.props.history.location.pathname === \"/editprofile\") && (page === \"security\")})} onClick={()=> this.handlePageChange(\"security\", \"/editprofile\")}>Security</li>}\r\n          { currentUser && <li className={classNames({\"active\": (this.props.history.location.pathname === \"/editprofile\") && (page === \"customisation\")})} onClick={()=> this.handlePageChange(\"customisation\", \"/editprofile\")}>Customisation</li>}\r\n          { !currentUser && <li className={classNames({\"active\": (this.props.history.location.pathname === \"/signin\")})} onClick={()=> this.handlePageChange(\"default\", \"/signin\")}>Sign In</li>}\r\n          { !currentUser && <li className={classNames({\"active\": (this.props.history.location.pathname === \"/signup\")})} onClick={()=> this.handlePageChange(\"default\", \"/signup\")}>Sign Up</li>}\r\n\r\n          {/*<li className={classNames({\"active\": (this.props.history.location.pathname === \"/editprofile\") && (page === \"password\")})} onClick={()=> this.handlePageChange(\"password\", \"/editprofile\")}>Change your password</li> */}\r\n          { currentUser && <li  onClick={()=> logout()}>Logout</li>}\r\n        </ul>\r\n      </div>\r\n  )\r\n}\r\n\r\n\r\n}\r\n\r\n\r\n\r\nfunction mapStateToProps(state){\r\n  return {\r\n    user: state.myProfile.auth,\r\n    sidebarVisibility: state.ui.sidebarShow\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, {sidebarShow, sidebarHide, logout, editProfilePageChange})(Sidebar);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {Switch, Route, withRouter} from \"react-router-dom\";\r\nimport {connect } from \"react-redux\";\r\nimport BodyContainer from \"./BodyContainer\";\r\nimport {TabNav} from \"./Mobile/Tab\";\r\nimport \"./Mobile/mobile.css\";\r\nimport Navbar from \"./Navbar\";\r\nimport EditProfile from \"./settings/EditProfile.js\"\r\nimport NewMessage from \"./Messages/NewMessage\";\r\nimport withAuth, {apiHOC} from \"../hocs/withAuth\";\r\nimport LandingPage from \"./home/Landing\";\r\nimport Discover from \"./RightSideBar/Discover\";\r\nimport Sidebar from \"./settings/sidebar.js\";\r\nimport styled from \"styled-components\";\r\n//React Router config\r\n\r\nlet StyledA = styled.a`\r\ncolor: black;\r\npadding: 10px;\r\ncolor: white;\r\n\r\n\r\n`\r\nlet LinkToPortfolio = styled.div`\r\nposition: fixed;\r\nright: ${props => props.isMobile ?\"30px\" : \"auto\"};\r\nleft:  ${props => props.isMobile?\"30px\" : \"30px\"};\r\nbottom: 5px;\r\nwidth: auto;\r\nheight: auto;\r\nbox-shadow: 3px 2px 4px #00000080;\r\nbackground: white;\r\nborder-radius: 10px;\r\ncolor: black;\r\ndisplay: flex;\r\njustify-content: center;\r\nalign-items: center;\r\ncursor: pointer;\r\nfont-size: 1em;\r\ntext-align: center;\r\nbackground: #FF7972;\r\n&:hover {\r\n  background: white\r\n  ${StyledA}{\r\n    color: black;\r\n  }\r\n}\r\n\r\n\r\n`\r\n\r\n\r\n\r\nconst RouterConfig = props => {\r\n  const {currentUser } = props;\r\n  return(\r\n    currentUser.isLoggedIn ?\r\n      <div className=\"container\">\r\n         <Navbar history={props.history} location={props.location} match={props.match} />\r\n         <Sidebar  history={props.history} isMobile={props.isMobile} currentUser={props.currentUser.isLoggedIn}/>\r\n         <Route exact path =\"/editprofile\" component={withAuth(EditProfile)} />\r\n        <Switch>\r\n          <Route exact path=\"/new\" component={withAuth(NewMessage)} />\r\n          <Route exact path =\"/discover\" component={apiHOC(Discover)} />\r\n          <Route exact path=\"/signin\" render={props =>  <LandingPage {...props} /> } /> {/* These are both present to prevent a bug which the route */}\r\n          <Route exact path=\"/signup\" render={props =>  <LandingPage {...props} /> } />{/*\"/:id/\" tries to do an API call on \"signin\" / \"signup\" after auth */}\r\n          <Route path=\"/myprofile\" render = { props => <BodyContainer page={\"myProfile\"} user={currentUser.username}  /> } />\r\n          <Route path=\"/u/:id/\" render = { props => <BodyContainer page={\"profile\"}  /> } />\r\n          <Route path = \"/\" render = { props => <BodyContainer page={\"dashboard\"}  /> } />\r\n        </Switch>\r\n         <TabNav history={props.history}   currentUser={currentUser.username} isMobile={props.isMobile} context={props.context}/>\r\n      </div>\r\n      :\r\n      <div className=\"container\">\r\n        <Navbar history={props.history} location={props.location} match={props.match} />\r\n        <Sidebar  history={props.history} isMobile={props.isMobile} currentUser={props.currentUser.isLoggedIn}/>\r\n        <LinkToPortfolio isMobile={props.isMobile}> <StyledA  href=\"https://anthonyashurst.com\">Return to anthonyashurst.com </StyledA> </LinkToPortfolio>\r\n        <Switch>\r\n        <Route exact path=\"/signin\" render={propstwo =>  <LandingPage  locationState=\"signin\" {...props} /> } />\r\n        <Route exact path=\"/signup\" render={propstwo =>  <LandingPage  locationState=\"signup\" {...props} /> } />\r\n        <Route path=\"/u/:id/\" render = { props => <BodyContainer page={\"profile\"}  /> } />\r\n        <Route exact path=\"/\" render={propstwo =>\r\n          <BodyContainer page={\"dashboard\"}  />\r\n        } />\r\n      </Switch>\r\n      </div>\r\n\r\n    );\r\n};\r\n\r\nRouterConfig.propTypes = {\r\n  currentUser: PropTypes.object\r\n}\r\n\r\nfunction mapStateToProps(state){\r\n  return {\r\n    currentUser: state.myProfile.auth,\r\n    errors: state.errors,\r\n    isMobile: state.ui.isMobile,\r\n    context: state.ui.context,\r\n    sidebarShow: state.ui.sidebarShow\r\n  };\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps)(RouterConfig));\r\n\r\n\r\n\r\n\r\n/*<Route exact path=\"/:id/followers\" render={props =>\r\n  <BodyContainer\r\n    currentUser={currentUser}\r\n    profile={currentUser}\r\n    {...props}\r\n    follow=\"follow\"\r\n    title=\"Followers\"\r\n  />\r\n}\r\n/>\r\n<Route exact path=\"/:id/following\" render={props =>\r\n  <BodyContainer\r\n    currentUser={currentUser}\r\n    profile={currentUser}\r\n    {...props}\r\n    follow=\"follow\"\r\n    title=\"Following\"\r\n  />\r\n}\r\n/>\r\n\r\n<Route path=\"/message/:mid/likes\" render={props =>\r\n  <FollowList\r\n    url={props.match.url}\r\n    key={`123`}\r\n    history={props.history}\r\n    type={\"likes\"}\r\n    title=\"Likes\"\r\n  />\r\n} />\r\n*/\r\n","import React from 'react';\r\nimport {BrowserRouter as Router} from \"react-router-dom\";\r\nimport {Provider} from \"react-redux\";\r\nimport {configureStore} from \"../store\";\r\nimport RouterConfig from \"./RouterConfig\";\r\nimport \"../common/common.css\";\r\nimport {setAuthorizationToken, setCurrentUser } from \"../store/actions/auth\";\r\nimport jwt from \"jsonwebtoken\";\r\nconst store = configureStore();\r\n//Check the local storage for a token, if present auto-login\r\n//This token currently has no expiration, but upon logout it is removed (SEE NAVBAR)\r\nif(localStorage.jwtToken){\r\n  setAuthorizationToken(localStorage.jwtToken);\r\n  try{\r\n    store.dispatch(setCurrentUser(jwt.decode(localStorage.jwtToken)));\r\n  } catch(e){\r\n    store.dispatch(setCurrentUser({}));\r\n  }\r\n}\r\nconst App = () => (\r\n  <Provider store = {store}>\r\n    <Router basename={(!process.env.NODE_ENV || process.env.NODE_ENV === 'development') ?process.env.DEV_URL: \"morikin\" } >\r\n        <RouterConfig />\r\n    </Router>\r\n  </Provider>\r\n  );\r\nexport default App;\r\n","import rootReducer from \"./reducers\";\r\nimport {createStore, applyMiddleware, compose} from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\n\r\n\r\nexport function configureStore(){\r\n  const store = createStore(\r\n    rootReducer, \r\n      compose(\r\n        applyMiddleware(thunk),\r\n        window.devToolsExtension  ? window.devToolsExtension() : f => f\r\n      )\r\n  );\r\n  return store;\r\n}","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport default function register() {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Lets check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not local host. Just register service worker\r\n        registerValidSW(swUrl);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the old content will have been purged and\r\n              // the fresh content will have been added to the cache.\r\n              // It's the perfect time to display a \"New content is\r\n              // available; please refresh.\" message in your web app.\r\n              console.log('New content is available; please refresh.');\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get('content-type').indexOf('javascript') === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './containers/App';\r\nimport registerServiceWorker from './registerServiceWorker';\r\nReactDOM.render(<App />, document.getElementById('root'));\r\nregisterServiceWorker();\r\n","module.exports = __webpack_public_path__ + \"static/media/logo.b6931a33.svg\";"],"sourceRoot":""}